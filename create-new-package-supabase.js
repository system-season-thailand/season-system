let existingDataStatus="newData",websiteUserUniqueNumber="newUniqueNumber";async function sendDataToSupabase(){return new Promise(async(e,t)=>{try{const a=document.getElementById("package_user_code_name_for_later_import_reference_p_id")?.innerText.trim(),o=cleanHTML(document.getElementById("downloaded_pdf_clint_data_page")?.innerHTML||""),_=cleanHTML(document.getElementById("downloaded_pdf_flight_data_page")?.innerHTML||""),n=cleanHTML(document.getElementById("downloaded_pdf_hotel_data_page")?.innerHTML||""),l=cleanHTML(document.getElementById("downloaded_pdf_clint_movements_data_page")?.innerHTML||""),c=cleanHTML(document.getElementById("downloaded_pdf_package_including_data_page")?.innerHTML||""),g=cleanHTML(document.getElementById("downloaded_pdf_total_price_data_page")?.innerHTML||""),d=document.getElementById("whole_package_end_date_input_id")?.value.trim(),r={"يناير":"Jan","فبراير":"Feb","مارس":"Mar","أبريل":"Apr","مايو":"May","يونيو":"Jun","يوليو":"Jul","أغسطس":"Aug","سبتمبر":"Sep","أكتوبر":"Oct","نوفمبر":"Nov","ديسمبر":"Dec"},s=d.split(" ").filter(Boolean),i=`${r[s.find(e=>r[e])]||"Invalid"}`,m={name:a,downloaded_pdf_clint_data_page:o,downloaded_pdf_flight_data_page:_,downloaded_pdf_hotel_data_page:n,downloaded_pdf_clint_movements_data_page:l,downloaded_pdf_package_including_data_page:c,downloaded_pdf_total_price_data_page:g,package_indo_user_current_date:(new Date).toISOString(),package_indo_last_month_date:i};if("newData"===existingDataStatus){const{data:e,error:a}=await supabase.from("best_all_package_indo").insert([m]).select();if(a)return console.error("❌ Insert failed:",a),void t(a)}else{if("existingData"!==existingDataStatus)return console.error("❌ Invalid existingDataStatus value:",existingDataStatus),void t("Invalid existingDataStatus value.");{const{data:e,error:o}=await supabase.from("best_all_package_indo").update(m).eq("name",a).select();if(o)return console.error("❌ Update failed:",o),void t(o);if(0===e.length)return console.warn("⚠️ No row updated. Name might not exist:",a),void t("No matching row found to update.")}}updateDataBaseSavedDataNames(),existingDataStatus="existingData",document.getElementById("website_users_name_input_id").disabled=!0,websiteUserUniqueNumber="existingUniqueNumber",document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").style.pointerEvents="auto",e()}catch(e){console.error("❌ Unexpected error in sendDataToSupabase:",e),t(e)}})}function cleanHTML(e){return(e=e.replace(/<!--[\s\S]*?-->/g,"")).replace(/\s+/g," ").trim()}let sheetData=[],totalRivPackageNumberForUpdatingNewRivPackage=null,googleSheet_ss_PackageNames=[],googleSheet_mm_PackageNames=[],googleSheet_oo_PackageNames=[],googleSheet_tt_PackageNames=[],googleSheet_ww_PackageNames=[],googleSheet_aa_PackageNames=[],googleSheet_zz_PackageNames=[],googleSheet_hh_PackageNames=[],googleSheet_kk_PackageNames=[],googleSheet_yy_PackageNames=[],googleSheet_bb_PackageNames=[];async function updateDataBaseSavedDataNames(){document.getElementById("all_google_sheet_stored_data_names_for_importing_data_div").innerHTML="",clearPackageNameArrays();let e=[];for(let t=0;t<5;t++){const a=1e3*t,o=a+1e3-1;try{const{data:_,error:n}=await supabase.from("best_all_package_indo").select("name").order("package_indo_user_current_date",{ascending:!1}).range(a,o);if(n){console.error(`Error fetching batch ${t+1}:`,n);break}if(!_||0===_.length)break;e=e.concat(_)}catch(e){console.error(`Exception in batch ${t+1}:`,e);break}}filterAndStorePackageNames(e,"append"),hideAllH3Elements(),enablePointerEventsForFilters(),updateSearchFilterFunctionality(),document.getElementById("import_packages_title_h6_id").innerText="تم تحميل جميع البكجات"}function clearPackageNameArrays(){[googleSheet_ss_PackageNames,googleSheet_mm_PackageNames,googleSheet_oo_PackageNames,googleSheet_tt_PackageNames,googleSheet_aa_PackageNames,googleSheet_zz_PackageNames,googleSheet_hh_PackageNames,googleSheet_kk_PackageNames,googleSheet_ww_PackageNames,googleSheet_yy_PackageNames,googleSheet_bb_PackageNames].forEach(e=>e.length=0)}function filterAndStorePackageNames(e,t){const a=document.getElementById("all_google_sheet_stored_data_names_for_importing_data_div");e.forEach(e=>{const t=e.name;if(t&&!document.getElementById(t)){const e=createH3Element(t);e.id=t,t.startsWith("ss")?googleSheet_ss_PackageNames.push(e):t.startsWith("mm")?googleSheet_mm_PackageNames.push(e):t.startsWith("oo")?googleSheet_oo_PackageNames.push(e):t.startsWith("tt")?googleSheet_tt_PackageNames.push(e):t.startsWith("aa")?googleSheet_aa_PackageNames.push(e):t.startsWith("ww")?googleSheet_ww_PackageNames.push(e):t.startsWith("zz")?googleSheet_zz_PackageNames.push(e):t.startsWith("hh")?googleSheet_hh_PackageNames.push(e):t.startsWith("kk")?googleSheet_kk_PackageNames.push(e):t.startsWith("yy")?googleSheet_yy_PackageNames.push(e):t.startsWith("bb")&&googleSheet_bb_PackageNames.push(e),a.append(e)}})}function hideAllH3Elements(){let e=document.getElementById("all_google_sheet_stored_data_names_for_importing_data_div").getElementsByTagName("h3");for(let t=0;t<e.length;t++)e[t].style.display="none"}let mostTopEmptyCellRowNumberValue,packageArrayMap={"بكج مستر سامي":googleSheet_ss_PackageNames,"بكج عبد الله":googleSheet_tt_PackageNames,"بكج معتز":googleSheet_mm_PackageNames,"بكج وائل":googleSheet_ww_PackageNames,"بكج عبد الرحمن":googleSheet_oo_PackageNames,"بكج علي":googleSheet_aa_PackageNames,"بكج مستر ابو سما":googleSheet_yy_PackageNames,"بكج بندر للتجربة":googleSheet_bb_PackageNames,"بكج ناصر":googleSheet_zz_PackageNames,"بكج محمد":googleSheet_hh_PackageNames,"بكج صبري":googleSheet_kk_PackageNames};function createH3Element(e){let t=document.createElement("h3");return t.innerText=e,"Name"===t.innerText?t.remove():(t.onclick=function(){pickThisGoogleSheetDataName(this)},t.innerText.startsWith("ss")?googleSheet_ss_PackageNames.push(t):t.innerText.startsWith("mm")?googleSheet_mm_PackageNames.push(t):t.innerText.startsWith("oo")?googleSheet_oo_PackageNames.push(t):t.innerText.startsWith("tt")?googleSheet_tt_PackageNames.push(t):t.innerText.startsWith("aa")?googleSheet_aa_PackageNames.push(t):t.innerText.startsWith("zz")?googleSheet_zz_PackageNames.push(t):t.innerText.startsWith("hh")?googleSheet_hh_PackageNames.push(t):t.innerText.startsWith("kk")?googleSheet_kk_PackageNames.push(t):t.innerText.startsWith("ww")?googleSheet_ww_PackageNames.push(t):t.innerText.startsWith("yy")?googleSheet_yy_PackageNames.push(t):t.innerText.startsWith("bb")&&googleSheet_bb_PackageNames.push(t)),t}function enablePointerEventsForFilters(){let e=document.getElementById("website_users_name_input_id").value,t=document.getElementsByClassName("filter_google_sheet_packages_names_p_class");for(let e=0;e<t.length;e++)t[e].style.pointerEvents="auto",t[e].style.opacity="1",t[e].style.backgroundColor="rgb(255, 174, 0)";let a=document.getElementsByClassName("filter_google_sheet_packages_names_p_class");switch(e){case"بكج مستر سامي":a[0]&&(a[0].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_ss_PackageNames;break;case"بكج عبد الله":a[1]&&(a[1].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_tt_PackageNames;break;case"بكج معتز":a[2]&&(a[2].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_mm_PackageNames;break;case"بكج وائل":a[3]&&(a[3].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_ww_PackageNames;break;case"بكج عبد الرحمن":a[4]&&(a[4].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_oo_PackageNames;break;case"بكج علي":a[5]&&(a[5].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_aa_PackageNames;break;case"بكج ناصر":a[6]&&(a[6].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_zz_PackageNames;break;case"بكج محمد":a[7]&&(a[7].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_hh_PackageNames;break;case"بكج صبري":a[8]&&(a[8].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_kk_PackageNames;break;case"بكج مستر ابو سما":a[9]&&(a[9].style.backgroundColor="rgb(140, 0, 255)"),targetArray=googleSheet_yy_PackageNames;break;case"بكج بندر للتجربة":targetArray=googleSheet_bb_PackageNames;break;default:targetArray=[]}for(let e=0;e<targetArray.length;e++)targetArray[e].style.display="block"}function updateSearchFilterFunctionality(){""!==document.getElementById("import_google_sheet_data_names_search_bar_input_id").value&&document.querySelectorAll(".search_bar_input_class").forEach(e=>{let t=e.closest(".searchable_names_dropdown_class");t.style.transition="height 0.1s ease-in-out",t.style.maxHeight="70vh",t.style.minHeight="70vh";let a=e.value.trim().toLowerCase(),o=a.split(/\s+/),_=t.querySelectorAll("h3"),n=0;_.forEach(e=>{let t=e.textContent.trim().toLowerCase(),_=o.every(e=>t.includes(e));""===a&&n<6?(e.style.display="block",n++):e.style.display=_?"block":"none"})})}function findSelectedNameAndImportContent(){let e=null;document.querySelectorAll("#all_google_sheet_stored_data_names_for_importing_data_div h3").forEach(function(t){"rgb(0, 155, 0)"===t.style.backgroundColor&&(e=t.innerText)}),e?(playSoundEffect("success"),importContentForSelectedName(e)):playSoundEffect("error")}async function importContentForSelectedName(e){document.getElementById("downloaded_pdf_clint_data_page").style.display="none",document.getElementById("downloaded_pdf_package_including_data_page").style.display="none",document.getElementById("downloaded_pdf_flight_data_page").style.display="none",document.getElementById("downloaded_pdf_hotel_data_page").style.display="none",document.getElementById("downloaded_pdf_clint_movements_data_page").style.display="none",document.getElementById("downloaded_pdf_total_price_data_page").style.display="none",showLoadingOverlay();try{const{data:t,error:a}=await supabase.from("best_all_package_indo").select("*").eq("name",e).order("package_indo_user_current_date",{ascending:!1}).limit(1).single();if(a)return console.error("❌ Failed to fetch selected package:",a),hideOverlay(),void hideLoadingOverlay();if(!t)return console.warn("No package found with name:",e),hideOverlay(),void hideLoadingOverlay();let o={downloaded_pdf_clint_data_page:t.downloaded_pdf_clint_data_page,downloaded_pdf_package_including_data_page:t.downloaded_pdf_package_including_data_page,downloaded_pdf_flight_data_page:t.downloaded_pdf_flight_data_page,downloaded_pdf_hotel_data_page:t.downloaded_pdf_hotel_data_page,downloaded_pdf_clint_movements_data_page:t.downloaded_pdf_clint_movements_data_page,downloaded_pdf_total_price_data_page:t.downloaded_pdf_total_price_data_page},_=new DOMParser;for(let e in o){let t=o[e];if(t){let a=formatHtmlForWebsite(t),o=_.parseFromString(a,"text/html").body.innerHTML,n=document.getElementById(e);n&&(n.style.display="block",n.innerHTML="",n.innerHTML=o,reActiveDragAndDropFunctionality(n.id))}}hideOverlay(),hideLoadingOverlay(),document.getElementById("website_users_name_input_id").disabled=!0,document.querySelectorAll(".inserted_package_data_section_page_image_class, .inserted_package_data_section_page_image_class_2").forEach(e=>{e.style.display="none"}),document.getElementById("inserted_company_name_image_position_div").style.display="flex";let n=document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText.split("_riv_")[0];try{let e=`${n}%`;const{data:t,error:a}=await supabase.from("best_all_package_indo").select("name").like("name",e);if(a)throw a;let o=Array.from(new Set((t||[]).map(e=>e.name))),_=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=new RegExp(`^${_}_riv_\\d+$`),c=o.filter(e=>e===n||l.test(e));totalRivPackageNumberForUpdatingNewRivPackage=c.length}catch(e){let t=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=new RegExp(`^${t}_riv_\\d+$`),o=Array.from(new Set(sheetData.map(e=>e.name)));totalRivPackageNumberForUpdatingNewRivPackage=o.filter(e=>e===n||a.test(e)).length}let l=totalRivPackageNumberForUpdatingNewRivPackage<=0?1:totalRivPackageNumberForUpdatingNewRivPackage;document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText=`${document.getElementById("store_google_sheet_package_raw_user_with_no_riv_for_later_reference_when_importing").innerText}_riv_${l}`,existingDataStatus="newData",websiteUserUniqueNumber="existingUniqueNumber",updateAllowedDates()}catch(e){console.error("Error importing package content:",e),hideLoadingOverlay()}}function showLoadingOverlay(){if(document.getElementById("global_loading_overlay"))return;let e=document.createElement("div");e.id="global_loading_overlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0, 0, 0, 0.35)",e.style.backdropFilter="blur(2px)",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="9999",e.style.opacity="0",e.style.transition="opacity 200ms ease";let t=document.createElement("div");if(t.style.width="36px",t.style.height="36px",t.style.border="6px solid rgba(255,255,255,0.35)",t.style.borderTopColor="#ffffff",t.style.borderRadius="50%",t.style.animation="global_loading_spin 0.8s linear infinite",!document.getElementById("global_loading_styles")){let e=document.createElement("style");e.id="global_loading_styles",e.textContent="@keyframes global_loading_spin{to{transform:rotate(360deg)}}",document.head.appendChild(e)}e.appendChild(t),document.body.appendChild(e),requestAnimationFrame(()=>{e.style.opacity="1"})}function hideLoadingOverlay(){let e=document.getElementById("global_loading_overlay");e&&(e.style.opacity="0",setTimeout(()=>{e&&e.parentNode&&e.parentNode.removeChild(e)},220))}function formatHtmlForWebsite(e){return e.replace(/\s+/g," ").trim()}function pickThisGoogleSheetDataName(e){if("rgb(0, 155, 0)"===e.style.backgroundColor)findSelectedNameAndImportContent();else{document.querySelectorAll("#all_google_sheet_stored_data_names_for_importing_data_div h3").forEach(function(e){e.style.backgroundColor="white",e.style.color="black"}),e.style.backgroundColor="rgb(0, 155, 0)",e.style.color="white"}}async function handleUserPackageUniqueNumber(e,t){const a=["بكج مستر سامي","بكج عبد الله","بكج معتز","بكج وائل","بكج عبد الرحمن","بكج علي","بكج ناصر","بكج محمد","بكج صبري","بكج مستر ابو سما","بكج بندر للتجربة"];if(!a.includes(e))throw new Error(`Invalid userType. Must be one of: ${a.join(", ")}`);try{const{data:a,error:o}=await supabase.from("indo_package_unique_number").select("*").limit(1).single();if(o)throw o;if(!a)throw new Error("No data found in the table");if("fetch"===t){mostTopEmptyCellRowNumberValue=a[e];let t=document.getElementById("clint_inputs_submit_icon");return t.style.opacity="1",t.style.pointerEvents="auto",t.disabled=!1,a[e]}if("insert"===t){const t=a[e]+1,{error:o}=await supabase.from("indo_package_unique_number").update({[e]:t}).not(e,"is",null);if(o)throw o;return t}}catch(e){throw console.error("Error in handleUserPackageUniqueNumber:",e),e}}resetPackageNamesFilterInputValue=function(){let e;switch(document.getElementById("import_google_sheet_data_names_search_bar_input_id").value="",document.getElementById("website_users_name_input_id").value){case"بكج مستر سامي":e=googleSheet_ss_PackageNames;break;case"بكج معتز":e=googleSheet_mm_PackageNames;break;case"بكج عبد الرحمن":e=googleSheet_oo_PackageNames;break;case"بكج عبد الله":e=googleSheet_tt_PackageNames;break;case"بكج علي":e=googleSheet_aa_PackageNames;break;case"بكج ناصر":e=googleSheet_zz_PackageNames;break;case"بكج محمد":e=googleSheet_hh_PackageNames;break;case"بكج صبري":e=googleSheet_kk_PackageNames;break;case"بكج وائل":e=googleSheet_ww_PackageNames;break;case"بكج مستر سامي":e=googleSheet_yy_PackageNames;break;case"بكج بندر للتجربة":e=googleSheet_bb_PackageNames;break;default:e=[]}for(let t=0;t<e.length;t++)e[t].style.display="block"},fliterGoogleSheetPackagesNames=function(e,t){let a=document.getElementsByClassName("filter_google_sheet_packages_names_p_class");for(let e=0;e<a.length;e++)a[e].style.backgroundColor="rgb(255, 174, 0)";e.style.backgroundColor="rgb(140, 0, 255)";let o,_=document.getElementById("all_google_sheet_stored_data_names_for_importing_data_div").getElementsByTagName("h3");for(let e=0;e<_.length;e++)_[e].style.display="none";switch(t){case"googleSheet_ss_PackageNames":o=googleSheet_ss_PackageNames;break;case"googleSheet_mm_PackageNames":o=googleSheet_mm_PackageNames;break;case"googleSheet_oo_PackageNames":o=googleSheet_oo_PackageNames;break;case"googleSheet_tt_PackageNames":o=googleSheet_tt_PackageNames;break;case"googleSheet_aa_PackageNames":o=googleSheet_aa_PackageNames;break;case"googleSheet_zz_PackageNames":o=googleSheet_zz_PackageNames;break;case"googleSheet_hh_PackageNames":o=googleSheet_hh_PackageNames;break;case"googleSheet_kk_PackageNames":o=googleSheet_kk_PackageNames;break;case"googleSheet_ww_PackageNames":o=googleSheet_ww_PackageNames;break;case"googleSheet_yy_PackageNames":o=googleSheet_yy_PackageNames;break;default:o=[]}for(let e=0;e<o.length;e++)o[e].style.display="block";updateSearchFilterFunctionality()},showWebsiteUsernamePackageNames=function(){let e=document.getElementById("all_google_sheet_stored_data_names_for_importing_data_div"),t=document.getElementById("website_users_name_input_id").value,a=document.getElementsByClassName("filter_google_sheet_packages_names_p_class");for(let e=0;e<a.length;e++)a[e].style.backgroundColor="";let o=[];switch(t){case"بكج مستر سامي":a[0]&&(a[0].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_ss_PackageNames;break;case"بكج عبد الله":a[1]&&(a[1].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_tt_PackageNames;break;case"بكج معتز":a[2]&&(a[2].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_mm_PackageNames;break;case"بكج وائل":a[3]&&(a[3].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_ww_PackageNames;break;case"بكج عبد الرحمن":a[4]&&(a[4].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_oo_PackageNames;break;case"بكج علي":a[5]&&(a[5].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_aa_PackageNames;break;case"بكج ناصر":a[6]&&(a[6].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_zz_PackageNames;break;case"بكج محمد":a[7]&&(a[7].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_hh_PackageNames;break;case"بكج صبري":a[8]&&(a[8].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_kk_PackageNames;break;case"بكج مستر ابو سما":a[9]&&(a[9].style.backgroundColor="rgb(140, 0, 255)"),o=googleSheet_yy_PackageNames;break;case"بكج بندر للتجربة":o=googleSheet_bb_PackageNames;break;default:o=[]}let _=e.getElementsByTagName("h3");for(let e=0;e<_.length;e++)_[e].style.display="none";for(let e=0;e<o.length;e++)o[e].style.display="block"},reActiveDragAndDropFunctionality=function(e){if("downloaded_pdf_clint_data_page"===e){document.getElementById("downloaded_pdf_clint_data_page").querySelector(".Important_notes_for_each_pdf_section_div_class")||alert("ترا البكج ذا قديم ولازم تسويه مره ثانية عشان التحديث\n(مع كامل حبي واحترامي)"),document.getElementById("package_clint_name_input_id").value=document.getElementById("store_google_sheet_clint_name_value").innerText,document.getElementById("package_clint_code_number_input_id").value="",document.getElementById("package_clint_code_number_input_id").value=document.getElementById("store_google_sheet_package_clint_code_number_value").innerText,document.getElementById("adult_package_person_amount_input_id").value=document.getElementById("store_google_sheet_package_adult_amount_value").innerText,document.getElementById("kids_package_person_amount_input_id").value=document.getElementById("store_google_sheet_package_kids_amount_value").innerText,document.getElementById("infant_package_person_amount_input_id").value=document.getElementById("store_google_sheet_package_infant_amount_value").innerText,document.getElementById("whole_package_start_date_input_id").value=document.getElementById("store_google_sheet_whole_package_first_date_value").innerText,document.getElementById("whole_package_end_date_input_id").value=document.getElementById("store_google_sheet_whole_package_last_date_value").innerText,document.getElementById("package_total_nights_input_id").value=`${document.getElementById("store_google_sheet_whole_package_total_nights_value").innerText} ليالي`,storePackageTotalNights=document.getElementById("store_google_sheet_whole_package_total_nights_value").innerText,document.getElementById("clint_company_name_input_id").value=document.getElementById("store_google_sheet_clint_company_name_value").innerText,document.getElementById("store_google_sheet_package_user_name_value")?document.getElementById("website_users_name_input_id").value=document.getElementById("store_google_sheet_package_user_name_value").innerText:document.getElementById("website_users_name_input_id").value="عبد الرحمن",document.getElementById("store_google_sheet_clint_package_price_type_checkbox_value")&&("بكج إقتصادي"===document.getElementById("store_google_sheet_clint_package_price_type_checkbox_value").innerText?(document.getElementById("economy_package_checkbox").checked=!0,document.getElementById("medium_package_checkbox").checked=!1,document.getElementById("vip_package_checkbox").checked=!1):"بكج متوسط"===document.getElementById("store_google_sheet_clint_package_price_type_checkbox_value").innerText?(document.getElementById("economy_package_checkbox").checked=!1,document.getElementById("medium_package_checkbox").checked=!0,document.getElementById("vip_package_checkbox").checked=!1):"بكج VIP"===document.getElementById("store_google_sheet_clint_package_price_type_checkbox_value").innerText&&(document.getElementById("economy_package_checkbox").checked=!1,document.getElementById("medium_package_checkbox").checked=!1,document.getElementById("vip_package_checkbox").checked=!0),""===document.getElementById("package_price_type_h6_id").innerText?document.getElementById("package_price_type_h6_id").style.display="none":document.getElementById("package_price_type_h6_id").style.display="block"),"بكج شهل عسل"===document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText?(document.getElementById("honeymoon_checkbox").checked=!0,document.getElementById("guys_checkbox").checked=!1,document.getElementById("family_checkbox").checked=!1,document.getElementById("two_people_checkbox").checked=!1,document.getElementById("group_of_people_checkbox").checked=!1):"بكج شباب"===document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText?(document.getElementById("honeymoon_checkbox").checked=!1,document.getElementById("guys_checkbox").checked=!0,document.getElementById("family_checkbox").checked=!1,document.getElementById("two_people_checkbox").checked=!1,document.getElementById("group_of_people_checkbox").checked=!1):"بكج عائلة"===document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText?(document.getElementById("honeymoon_checkbox").checked=!1,document.getElementById("guys_checkbox").checked=!1,document.getElementById("family_checkbox").checked=!0,document.getElementById("two_people_checkbox").checked=!1,document.getElementById("group_of_people_checkbox").checked=!1):"بكج شخصين"===document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText?(document.getElementById("honeymoon_checkbox").checked=!1,document.getElementById("guys_checkbox").checked=!1,document.getElementById("family_checkbox").checked=!1,document.getElementById("two_people_checkbox").checked=!0,document.getElementById("group_of_people_checkbox").checked=!1):"بكج قروب"===document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText?(document.getElementById("honeymoon_checkbox").checked=!1,document.getElementById("guys_checkbox").checked=!1,document.getElementById("family_checkbox").checked=!1,document.getElementById("two_people_checkbox").checked=!1,document.getElementById("group_of_people_checkbox").checked=!0):(document.getElementById("honeymoon_checkbox").checked=!1,document.getElementById("guys_checkbox").checked=!1,document.getElementById("family_checkbox").checked=!1,document.getElementById("two_people_checkbox").checked=!1,document.getElementById("group_of_people_checkbox").checked=!1),document.getElementById("inserted_company_name_logo_id")&&(document.getElementById("inserted_company_name_logo_id").onclick=function(){event.stopPropagation();let e=document.createElement("div");e.className="black_overlay",e.id="black_overlay_id",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1"},100);let t=document.getElementById("ensure_delete_company_logo_div");setTimeout(()=>{t.style.transform="translate(-50%, -50%)"},50),e.onclick=()=>{t.style.transform="translate(-50%, -130vh)",e.style.opacity="0",setTimeout(()=>{document.body.removeChild(e)},300)}}),"hide all package dates"===document.getElementById("store_google_sheet_all_package_dates_hidden_or_no").innerText?(document.getElementById("hide_all_package_dates_icon").style.backgroundColor="rgb(0, 255, 0)",document.getElementById("hide_all_package_dates_icon").style.color="black"):(document.getElementById("hide_all_package_dates_icon").style.backgroundColor="rgb(0, 87, 116)",document.getElementById("hide_all_package_dates_icon").style.color="white")}else if("downloaded_pdf_flight_data_page"===e){document.querySelectorAll(".flight_row_class").forEach(e=>{e.querySelectorAll(".flight_row_flight_arrival_time_controller").forEach(function(e){e.onclick=function(t){flightRowAirLineControllerFunction(t,e)}})}),document.getElementById("manually_add_flight_row_icon").style.display="none",insertedFlightDataDivUniqueId=document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText}else if("downloaded_pdf_hotel_data_page"===e){let a=document.querySelectorAll(".hotel_row_class");document.getElementById("hotel_check_in_input_id").value=document.getElementById("store_google_sheet_hotel_last_stopped_check_out_date_value").innerText,document.getElementById("hotel_check_in_input_id").disabled=!0,a.forEach(e=>{e.querySelectorAll(".hotel_row_image_controller").forEach(e=>{handleClickEvent(e)})}),createHotelDragAndDropMood(),saveOriginalHotelDates()}else if("downloaded_pdf_clint_movements_data_page"===e){let o=document.querySelectorAll(".clint_movements_row_class_for_editing");filterUsedClintVisitingPlacesNames(),o.forEach(e=>{e.querySelectorAll(".clint_movements_row_controller").forEach(function(e){e.onclick=function(t){clintMovementsRowCityNameControllerFunction(t,e)}})}),document.querySelectorAll(".clint_movements_row_class_for_editing").forEach(e=>{e.querySelectorAll("div").forEach(e=>{e.style.backgroundColor="white",e.style.color="black"})}),highlightWeekendClintMovements()}else if("downloaded_pdf_package_including_data_page"===e){function t(e,t){let a=document.getElementById(e);if(a){let e=a.getElementsByTagName("p");Array.from(e).forEach(e=>{let a=e.innerText,o=document.getElementById(a);if(o){o.nextElementSibling.style.setProperty("--checkbox-color",t)}})}}document.getElementById("sms_card_with_internet_amount_input_id").value=document.getElementById("store_google_sheet_package_including_sms_value").innerText,document.getElementById("inner_flight_tickets_amount_input_id").value=document.getElementById("store_google_sheet_package_including_inner_tickets_value").innerText,document.getElementById("package_details_textarea_id").value=document.getElementById("store_google_sheet_package_details_textarea_value").innerText.replace(/\\n/g,"\n"),document.getElementById("package_totla_price_input_id").value=document.getElementById("store_google_sheet_package_total_price_value").innerText,document.getElementById("specific_car_type_input_id").value=document.getElementById("store_google_sheet_package_specific_car_type_value").innerText,["privet_car_with_driver_to_welcome_and_etc_checkbox","extra_car_for_carring_bags_checkbox","hotel_booking_with_breakfast_for_2_people_checkbox","welcome_goodbye_hotel_delivery_checkbox","customer_service_24_hour_checkbox","sms_card_with_internet_checkbox","inner_flight_tickets_checkbox","outer_flight_tickets_checkbox","placese_visiting_cost_checkbox","bali_taxes_not_covered_checkbox"].forEach(e=>{let t=document.getElementById(e);if(t){t.checked=!1,t.nextElementSibling.style.setProperty("--checkbox-color","rgb(255, 255, 255)")}}),t("store_google_sheet_green_checked_package_including_and_not_including_input_div","rgb(0, 255, 0)"),t("store_google_sheet_red_checked_package_including_and_not_including_input_div","rgb(255, 0, 0)"),t("store_google_sheet_white_package_including_and_not_including_input_div","rgb(255, 255, 255)")}};
