let insertedFlightDataDivUniqueId,insertedHotelDataDivUniqueId,currentFlightDataDivId,currentHotelDataDivId,currentClintMovementsDataDiv,insertedClintMovementsRowDivUniqueId=1;function handleClickEvent(e){let t,n,l,i=!1,o=!1;e.addEventListener("touchstart",(e=>{let _=e.touches[0];t=_.clientX,n=_.clientY,l=(new Date).getTime(),i=!1,o=!0})),e.addEventListener("touchmove",(()=>{i=!0})),e.addEventListener("touchend",(e=>{o=!1})),e.addEventListener("mousedown",(e=>{o||(t=e.clientX,n=e.clientY,l=(new Date).getTime(),i=!1)})),e.addEventListener("mousemove",(()=>{i=!0})),e.addEventListener("mouseup",(e=>{i||o||hotelRowImageControllerFunction(e)}))}function hotelRowImageControllerFunction(e){let t=document.getElementById("ensure_delete_or_edit_hotel_data_div"),n=e.target.closest(".hotel_row_class");if(n){currentHotelDataDivId=n.id;let e=document.querySelector(".black_overlay");if(!e){e=document.createElement("div"),e.classList.add("black_overlay"),document.body.appendChild(e),setTimeout((()=>{e.style.opacity="1",t.style.transform="translate(-50%, -50%)"}),50);let n=()=>{t.style.transform="translate(-50%, -130vh)",e.style.opacity="0",setTimeout((()=>{document.body.contains(e)&&document.body.removeChild(e)}),300)};e.addEventListener("click",n),e.addEventListener("click",(e=>{e.stopPropagation()}))}runDeleteClickedHotelDataFunction=function(){deleteClickedHotelData(currentHotelDataDivId)},runEditClickedHotelDataFunction=function(){editClickedHotelDataFunction(currentHotelDataDivId),document.getElementById("header_navbar_links_clint_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_hotel_a").style.backgroundColor="rgb(0, 46, 57)",document.getElementById("header_navbar_links_flight_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_package_icluding_and_not_including_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_clint_movements_a").style.backgroundColor="rgb(85, 127, 137)"},runDuplicateClickedHotelDataFunction=function(){duplicateClickedHotelDataFunctio(currentHotelDataDivId)}}}function saveOriginalHotelDates(){originalHotelDates=[],document.querySelectorAll(".hotel_row_class_for_editing").forEach((e=>{let t=e.querySelector("h2").innerText,n=e.querySelector("h3").innerText,l=e.querySelector("h4").innerText;originalHotelDates.push({h2Date:t,h3Date:n,h4TotalNights:l,element:e})}))}function updateHotelRowDates(){document.querySelectorAll(".hotel_row_class_for_editing").forEach(((e,t)=>{let n=e.querySelector("h2"),l=e.querySelector("h3"),i=e.querySelector("h4");n&&l&&i&&originalHotelDates[t]&&(n.innerText=originalHotelDates[t].h2Date,l.innerText=originalHotelDates[t].h3Date,i.innerText=originalHotelDates[t].h4TotalNights)}))}function handleDrop(){updateHotelRowDates()}function createHotelDragAndDropMood(){let e=document.getElementById("inserted_hotel_data_position_div");function t(e){if("img"===e.target.tagName.toLowerCase()){e.preventDefault();let t=e.target.closest(".hotel_row_class");t.classList.add("dragging"),t.dataset.startY=e.clientY,document.addEventListener("mousemove",l),document.addEventListener("mouseup",o),document.body.style.touchAction="none",document.body.style.userSelect="none"}}function n(e){let t=e.touches[0];if("img"===t.target.tagName.toLowerCase()){let e=t.target.closest(".hotel_row_class");e.classList.add("dragging"),e.dataset.startY=t.clientY,document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("touchend",_),document.body.style.touchAction="none",document.body.style.userSelect="none"}}function l(t){let n=document.querySelector(".dragging"),l=parseInt(n.dataset.startY||0),i=t.clientY-l;n.style.transform=`translateY(${i}px)`;let o=Array.from(e.children),_=o.indexOf(n),d=_;for(let e=0;e<o.length;e++){let n=o[e].getBoundingClientRect();if(e!==_&&t.clientY>n.top&&t.clientY<n.bottom){i>0&&t.clientY>n.bottom-20?d=e+1:i<0&&t.clientY<n.top+20&&(d=e);break}}d!==_&&e.insertBefore(n,o[d])}function i(t){t.preventDefault();let n=document.querySelector(".dragging"),l=t.touches[0],i=parseInt(n.dataset.startY||0),o=l.clientY-i;n.style.transform=`translateY(${o}px)`;let _=Array.from(e.children),d=_.indexOf(n),a=d;for(let e=0;e<_.length;e++){let t=_[e].getBoundingClientRect();if(e!==d&&l.clientY>t.top&&l.clientY<t.bottom){o>0&&l.clientY>t.bottom-20?a=e+1:o<0&&l.clientY<t.top+20&&(a=e);break}}a!==d&&e.insertBefore(n,_[a])}function o(e){let t=document.querySelector(".dragging");t&&(t.classList.remove("dragging"),t.style.transform="",t.removeAttribute("data-start-y"),handleDrop()),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",o),document.body.style.touchAction="",document.body.style.userSelect=""}function _(e){let t=document.querySelector(".dragging");t&&(t.classList.remove("dragging"),t.style.transform="",t.removeAttribute("data-start-y"),handleDrop()),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",_),document.body.style.touchAction="",document.body.style.userSelect=""}document.querySelectorAll(".hotel_row_class").forEach((e=>{e.addEventListener("mousedown",t),e.addEventListener("touchstart",n)}))}createWholePackageAndClintDataFunction=function(){let e=document.getElementById("package_clint_name_input_id").value,t=document.getElementById("package_clint_code_number_input_id").value,n=document.getElementById("adult_package_person_amount_input_id").value,l=document.getElementById("kids_package_person_amount_input_id").value,i=document.getElementById("infant_package_person_amount_input_id").value,o=document.getElementById("whole_package_start_date_input_id").value,_=document.getElementById("whole_package_end_date_input_id").value,d=document.getElementById("clint_company_name_input_id").value,a=document.getElementById("website_users_name_input_id").value;if(""===o||""===_||""===a)playSoundEffect("error"),clint_inputs_submit_icon.style.backgroundColor="red",setTimeout((()=>{clint_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500);else{if(void 0!==mostTopEmptyCellRowNumberValue&&null!==mostTopEmptyCellRowNumberValue&&NaN!==mostTopEmptyCellRowNumberValue||(playSoundEffect("error"),alert("تأكد من إتصالك بالشبكة"),location.reload()),playSoundEffect("success"),clint_inputs_submit_icon.style.backgroundColor="rgb(0, 255, 0)",setTimeout((()=>{clint_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),""!==d){let e=document.createElement("img"),t=d.replace(/\s+/g,"-");e.src=`صور-الشركات/${t}.jpg`,e.className="inserted_company_name_logo",e.id="inserted_company_name_logo_id",e.onclick=function(e){e.preventDefault(),e.stopPropagation();let t=document.createElement("div");t.className="black_overlay",t.id="black_overlay_id",document.body.appendChild(t),setTimeout((()=>{t.style.opacity="1"}),100);let n=document.getElementById("ensure_delete_company_logo_div");setTimeout((()=>{n.style.transform="translate(-50%, -50%)"}),50),t.onclick=()=>{n.style.transform="translate(-50%, -130vh)",t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300)}},document.getElementById("inserted_company_name_image_position_div").innerHTML="",document.getElementById("inserted_company_name_image_position_div").appendChild(e),document.getElementById("welcome_pdf_first_page_image_id").src=`خلفية-الشركات/${t}.jpg`,document.getElementById("inserted_company_name_image_position_div").style.display="flex"}else document.getElementById("welcome_pdf_first_page_image_id").src="first-pdf-image.jpg",document.getElementById("inserted_company_name_image_position_div").style.display="none";let r=document.getElementById("package_price_type_h6_id");document.getElementById("store_google_sheet_clint_package_price_type_checkbox_value")&&(document.getElementById("economy_package_checkbox").checked?(r.innerHTML="  (بكج إقتصادي)",document.getElementById("store_google_sheet_clint_package_price_type_checkbox_value").innerText="بكج إقتصادي",document.getElementById("package_price_type_h6_id").style.display="block"):document.getElementById("medium_package_checkbox").checked?(r.innerHTML="  (بكج متوسط)",document.getElementById("store_google_sheet_clint_package_price_type_checkbox_value").innerText="بكج متوسط",document.getElementById("package_price_type_h6_id").style.display="block"):document.getElementById("vip_package_checkbox").checked?(r.innerHTML="  (بكج VIP)",document.getElementById("store_google_sheet_clint_package_price_type_checkbox_value").innerText="بكج VIP",document.getElementById("package_price_type_h6_id").style.display="block"):(document.getElementById("package_price_type_h6_id").innerText="",document.getElementById("package_price_type_h6_id").style.display="none"));let c,s=document.getElementById("clint_package_type_h6");if(document.getElementById("honeymoon_checkbox").checked?(s.innerHTML="بكج شهر عسل",document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText="بكج شهل عسل"):document.getElementById("guys_checkbox").checked?(s.innerHTML="بكج شباب",document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText="بكج شباب"):document.getElementById("family_checkbox").checked?(s.innerHTML="بكج عائلة",document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText="بكج عائلة"):document.getElementById("two_people_checkbox").checked?(s.innerHTML="بكج شخصين",document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText="بكج شخصين"):document.getElementById("group_of_people_checkbox").checked?(s.innerHTML="بكج قروب",document.getElementById("store_google_sheet_clint_package_type_checkbox_value").innerText="بكج قروب"):s.innerHTML="بكج جديد",""!==e?(clint_full_name_p.innerText=`الأستاذ/ة : ${e}`,pdf_clint_info_section_title_div_id.style.borderBottom="0.5px solid black",clint_full_name_p.style.display="block",document.getElementById("store_google_sheet_clint_name_value").innerText=e):(clint_full_name_p.innerText="",pdf_clint_info_section_title_div_id.style.borderBottom="none",clint_full_name_p.style.display="none",document.getElementById("store_google_sheet_clint_name_value").innerText=""),document.getElementById("whole_package_first_date_p_id")&&document.getElementById("whole_package_first_date_p_id").innerText!==o){let e=document.getElementById("whole_package_first_date_p_id").innerText,t=parseArabicDate(e),n=parseArabicDate(o)-t,l=Math.round(n/864e5);if(document.querySelectorAll(".hotel_row_class_for_editing").length>0){let e=document.querySelectorAll(".hotel_check_in_date_for_matching_whole_package_date"),t=document.querySelectorAll(".hotel_check_out_date_for_matching_whole_package_date");e.forEach((e=>{let t=e.innerText,n=parseArabicDate(t),i=new Date(n);i.setDate(i.getDate()+l),e.innerText=`${i.getDate()} ${getArabicMonthName(i.getMonth())}`})),t.forEach((e=>{let t=e.innerText,n=parseArabicDate(t),i=new Date(n);i.setDate(i.getDate()+l),e.innerText=`${i.getDate()} ${getArabicMonthName(i.getMonth())}`})),saveOriginalHotelDates()}if(document.querySelectorAll(".flight_row_class_for_editing").length>0){document.querySelectorAll(".flight_date_for_matching_whole_package_date").forEach((e=>{let t=e.innerText,n=parseArabicDate(t),i=new Date(n);i.setDate(i.getDate()+l),e.innerText=`${i.getDate()} ${getArabicMonthName(i.getMonth())}`}))}if(document.querySelectorAll(".clint_movements_row_class_for_editing").length>0){document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{let t=e.querySelector("h1");if(t){let e=t.innerText,n=parseArabicDate(e),i=new Date(n);i.setDate(i.getDate()+l),t.innerText=`${i.getDate()} ${getArabicMonthName(i.getMonth())}`}}))}}0===document.querySelectorAll(".hotel_row_class_for_editing").length&&(document.getElementById("hotel_check_in_input_id").value=o,document.getElementById("hotel_check_out_input_id").value="",document.getElementById("hotel_total_nights_input_id").value="");let u=`${n}`;""!==l&&(u+=` + ${l}`),""!==i&&(u+=` ${i}`),c=`\n            <div>\n                <p>${u}</p>\n            </div>\n            <div>\n                <p id="whole_package_first_date_p_id">${o}</p>\n            </div>\n            <div>\n                <p id="whole_package_last_date_p_id">${_}</p>\n            </div>\n            <div>\n                <p>${storePackageTotalNights}</p>\n            </div>\n        `,document.getElementById("clint_data_row_main_div_id").style.display="flex";let m=document.createElement("div");m.className="clint_data_row_class clint_data_row_class_for_editing",m.innerHTML=c;let g,y=document.getElementById("inserted_clint_data_position_div");if(y.innerHTML="",y.appendChild(m),ensureAllPackageDatesHiddenOrNo(),document.getElementById("store_google_sheet_whole_package_first_date_value").innerText=o,document.getElementById("store_google_sheet_whole_package_last_date_value").innerText=_,document.getElementById("store_google_sheet_whole_package_total_nights_value").innerText=storePackageTotalNights,document.getElementById("store_google_sheet_package_user_name_value").innerText=a,!0!==document.getElementById("website_users_name_input_id").disabled&&(""===document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText||document.getElementById("website_users_name_input_id").value!==g)){let e;"بكج مستر سامي"===document.getElementById("website_users_name_input_id").value?e="ss":"بكج عبد الله"===document.getElementById("website_users_name_input_id").value?e="tt":"بكج معتز"===document.getElementById("website_users_name_input_id").value?e="mm":"بكج وائل"===document.getElementById("website_users_name_input_id").value?e="ww":"بكج عبد الرحمن"===document.getElementById("website_users_name_input_id").value?e="oo":"بكج علي"===document.getElementById("website_users_name_input_id").value?e="aa":"بكج ناصر"===document.getElementById("website_users_name_input_id").value?e="rr":"بكج محمد"===document.getElementById("website_users_name_input_id").value?e="hh":"بكج مستر ابو سما"===document.getElementById("website_users_name_input_id").value?e="yy":"بكج بندر للتجربة"===document.getElementById("website_users_name_input_id").value&&(e="bb");let t=(new Date).getFullYear()%100;document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText=`${e}_indo_${t}_${mostTopEmptyCellRowNumberValue}`,document.getElementById("store_google_sheet_package_raw_user_with_no_riv_for_later_reference_when_importing").innerText=`${e}_indo_${t}_${mostTopEmptyCellRowNumberValue}`,g=document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText}document.getElementById("package_clint_code_number_p_id").innerText=t,document.getElementById("store_google_sheet_package_clint_code_number_value").innerText=document.getElementById("package_clint_code_number_p_id").innerText,document.getElementById("downloaded_pdf_clint_data_page").style.display="block"}},deleteClickedCompanyLogo=function(){document.getElementById("inserted_company_name_image_position_div").innerHTML="";let e=document.getElementById("ensure_delete_company_logo_div");document.getElementById("welcome_pdf_first_page_image_id").src="first-pdf-image.jpg",e.style.transform="translate(-50%, -130vh)";let t=document.getElementById("black_overlay_id");t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300)},createAllPackageIncludingAndNotIncludingData=function(){let e=["privet_car_with_driver_to_welcome_and_etc_checkbox","hotel_booking_with_breakfast_for_2_people_checkbox","customer_service_24_hour_checkbox","welcome_goodbye_hotel_delivery_checkbox","sms_card_with_internet_checkbox","inner_flight_tickets_checkbox","extra_car_for_carring_bags_checkbox","outer_flight_tickets_checkbox","placese_visiting_cost_checkbox","bali_taxes_not_covered_checkbox"];playSoundEffect("success");let t=document.getElementById("specific_car_type_input_id").value,n=document.getElementById("package_details_textarea_id").value,l=document.getElementById("sms_card_with_internet_amount_input_id").value,i=document.getElementById("inner_flight_tickets_amount_input_id").value,o=document.getElementById("package_totla_price_input_id").value;package_including_data_inputs_submit_icon.style.backgroundColor="rgb(0, 255, 0)",setTimeout((()=>{package_including_data_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500);let _=document.createElement("div");_.id="inserted_package_including_data_div",_.className="inserted_package_including_and_not_icluding_data_div_class";let d=document.createElement("div");d.id="inserted_package_not_including_data_div",d.className="inserted_package_including_and_not_icluding_data_div_class",""!==o?(document.getElementById("downloaded_pdf_total_price_data_page").style.display="block",document.getElementById("package_total_price_p_id").innerText=o,document.getElementById("store_google_sheet_package_total_price_value").innerText=o):(document.getElementById("downloaded_pdf_total_price_data_page").style.display="none",document.getElementById("store_google_sheet_package_total_price_value").innerText="");let a=document.getElementById("specific_car_type_input_id").value;e.forEach((e=>{let n=document.getElementById(e),o=document.querySelector(`label[for="${e}"]`).innerHTML.split("<br>").map((e=>e.trim())),r=document.createElement("p"),c=document.createElement("ion-icon"),s=function(e){let t=e.nextElementSibling;return window.getComputedStyle(t,"::before").backgroundColor}(n);if("privet_car_with_driver_to_welcome_and_etc_checkbox"===e&&""!==a&&(o=[a],document.getElementById("store_google_sheet_package_specific_car_type_value").innerText=document.getElementById("specific_car_type_input_id").value),""===document.getElementById("specific_car_type_input_id").value&&(document.getElementById("store_google_sheet_package_specific_car_type_value").innerText=""),"rgb(0, 255, 0)"===s){if(c.setAttribute("name","checkmark-outline"),r.appendChild(c),"sms_card_with_internet_checkbox"===e){let e=""!==l?` ${l}`:" شرائح إنترنت";r.appendChild(document.createTextNode(e)),r.style.padding="0 5px",document.getElementById("store_google_sheet_package_including_sms_value").innerText=""!==l?l:""}else if("inner_flight_tickets_checkbox"===e){let e=""!==i?` ${i}`:" تذاكر الطيران الداخلي";r.appendChild(document.createTextNode(e)),r.style.padding="0 5px",document.getElementById("store_google_sheet_package_including_inner_tickets_value").innerText=""!==i?i:""}else if("privet_car_with_driver_to_welcome_and_etc_checkbox"===e&&""!==a){let e=t;r.appendChild(document.createTextNode(e)),r.style.fontWeight="bold"}else o.forEach(((e,t)=>{r.appendChild(document.createTextNode(` ${e}`)),t<o.length-1&&r.appendChild(document.createElement("br"))}));r.className="inserted_package_including_data_text","welcome_goodbye_hotel_delivery_checkbox"!==e&&"sms_card_with_internet_checkbox"!==e&&"inner_flight_tickets_checkbox"!==e&&"extra_car_for_carring_bags_checkbox"!==e||(r.className="special_package_including_data_background_color_text"),_.appendChild(r)}else"rgb(255, 0, 0)"===s&&(c.setAttribute("name","close-outline"),r.appendChild(c),o.forEach(((e,t)=>{r.appendChild(document.createTextNode(` ${e}`)),t<o.length-1&&r.appendChild(document.createElement("br"))})),r.className="inserted_package_not_including_data_text","welcome_goodbye_hotel_delivery_checkbox"!==e&&"sms_card_with_internet_checkbox"!==e&&"inner_flight_tickets_checkbox"!==e||(r.className="special_package_including_data_background_color_text",r.style.padding="0 5px"),d.appendChild(r));r.setAttribute("onclick","runDeleteThisPackageIncludingDataText(this)")})),""!==n&&(n.split("\n").forEach((e=>{if(""!==e.trim()){let t=document.createElement("p"),n=document.createElement("ion-icon");n.setAttribute("name","checkmark-outline"),t.appendChild(n),t.appendChild(document.createTextNode(` ${e.trim()}`)),t.className="inserted_package_including_data_text",t.setAttribute("onclick","runDeleteThisPackageIncludingDataText(this)"),t.className="special_package_including_data_background_color_text",t.style.padding="0 5px",_.appendChild(t)}})),document.getElementById("store_google_sheet_package_details_textarea_value").innerText=n.replace(/\n/g,"\\n"));let r=document.getElementById("inserted_package_icluding_data_position_div"),c=document.getElementById("inserted_package_not_icluding_data_position_div");r.innerHTML="",r.appendChild(_),c.innerHTML="",c.appendChild(d);let s=document.getElementById("pdf_section_package_icluding_data_title_id"),u=document.getElementById("pdf_section_package_not_icluding_data_title_id");s.style.display=_.children.length>0?"flex":"none",u.style.display=d.children.length>0?"flex":"none",document.getElementById("downloaded_pdf_package_including_data_page").style.display="block",document.getElementById("store_google_sheet_green_checked_package_including_and_not_including_input_div").innerHTML="",document.getElementById("store_google_sheet_red_checked_package_including_and_not_including_input_div").innerHTML="",document.getElementById("store_google_sheet_white_package_including_and_not_including_input_div").innerHTML="",e.forEach((e=>{let t=document.getElementById(e);if(!t)return;let n=t.nextElementSibling,l=window.getComputedStyle(n,"::before").backgroundColor,i=document.createElement("p");i.innerText=e,"rgb(0, 255, 0)"===l?document.getElementById("store_google_sheet_green_checked_package_including_and_not_including_input_div").appendChild(i):"rgb(255, 0, 0)"===l?document.getElementById("store_google_sheet_red_checked_package_including_and_not_including_input_div").appendChild(i):document.getElementById("store_google_sheet_white_package_including_and_not_including_input_div").appendChild(i)}))},runDeleteThisPackageIncludingDataText=function(e){let t=document.createElement("div");t.classList.add("black_overlay"),document.body.appendChild(t),deleteClickedPackageIncludingDataText=function(e){e.remove(),ensure_delete_package_including_data_text_div.style.transform="translate(-50%, -130vh)",t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300),0===document.querySelectorAll(".inserted_package_including_data_text").length&&(document.getElementById("downloaded_pdf_package_including_data_page").style.display="none")},setTimeout((()=>{t.style.opacity="1",ensure_delete_package_including_data_text_div.style.transform="translate(-50%, -50%)"}),50),passClickedPackageIncludingDataText=function(){if("package_total_price_p_id"===e){return document.getElementById("downloaded_pdf_total_price_data_page").style.display="none",ensure_delete_package_including_data_text_div.style.transform="translate(-50%, -130vh)",t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300),void(0===document.querySelectorAll(".inserted_package_including_data_text").length&&(document.getElementById("downloaded_pdf_package_including_data_page").style.display="none"))}deleteClickedPackageIncludingDataText(e)},t.onclick=()=>{ensure_delete_package_including_data_text_div.style.transform="translate(-50%, -130vh)",t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300)},t.addEventListener("click",(e=>{e.stopPropagation()}))},createAllFlightDataFunction=function(){if("none"===document.getElementById("downloaded_pdf_hotel_data_page").style.display)playSoundEffect("error"),clint_flight_inputs_submit_icon.style.backgroundColor="red",setTimeout((()=>{clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),document.getElementById("manually_add_flight_row_icon").style.display="block";else{document.getElementById("inserted_flight_data_position_div").innerHTML="",insertedFlightDataDivUniqueId=""!==document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText?document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText:1;let t=document.querySelectorAll(".hotel_row_class_for_editing"),n=null,l=null,i=["بالي","جاكرتا","باندونق","بونشاك","لومبوك"],o=document.getElementById("adult_package_person_amount_input_id").value,_=document.getElementById("kids_package_person_amount_input_id").value,d=document.getElementById("infant_package_person_amount_input_id").value;function e(e){let t=e.match(/\d+/);return t?parseInt(t[0]):0}let a=e(o)+e(_);t.forEach(((e,t)=>{let o=e.querySelector("h5").innerText,_=e.querySelector("h2").innerText;if("جاكرتا"===n&&"باندونق"===o||"باندونق"===n&&"جاكرتا"===o)return n=o,void(l=_);if("جاكرتا"===n&&"بونشاك"===o)return n=o,void(l=_);if("بونشاك"===n&&"جاكرتا"===o)return n=o,void(l=_);if(i.includes(o)&&n&&n!==o&&i.includes(n)||"بونشاك"===n&&"بالي"===o||"بالي"===n&&"بونشاك"===o){let e=n,t=o;if("بونشاك"===n&&"بالي"===o||"باندونق"===n&&"بالي"===o?(e="جاكرتا",t="بالي"):("بالي"===n&&"بونشاك"===o||"بالي"===n&&"باندونق"===o)&&(e="بالي",t="جاكرتا"),"باندونق"===n&&"بونشاك"===o||"بونشاك"===n&&"باندونق"===o)return n=o,void(l=_);let i=document.createElement("div");i.id=`flight_row_id_${insertedFlightDataDivUniqueId}`,i.className="flight_row_class flight_row_class_for_editing";let r=`\n                    <div class="flight_row_flight_arrival_time_controller inserted_flight_data_row" style="cursor: pointer;"><p id='flight_air_line_${insertedFlightDataDivUniqueId}'></p></div>\n                    <div><p id="flight_adult_person_amount_${insertedFlightDataDivUniqueId}">\n                            ${1===a?`${a} بالغ`:0!==a?`${a} بالغين`:""}\n                        </p>\n                        ${d?`<p id="flight_infant_person_amount_${insertedFlightDataDivUniqueId}">${d}</p>`:""}</div>\n                    </div>\n                    <div><p>20Kg للشخص</p></div>\n                    <div><h2 id='flight_from_city_${insertedFlightDataDivUniqueId}'>${e}</h2></div>\n                    <div><h3 id='flight_to_city_${insertedFlightDataDivUniqueId}'>${t}</h3></div>\n                    <div><h1 id='flight_date_${insertedFlightDataDivUniqueId}' class="flight_date_for_matching_whole_package_date">${_}</h1></div>\n                    <div><p id='flight_fly_away_time_${insertedFlightDataDivUniqueId}'></p></div>\n                    <div><p id='flight_arrival_time_${insertedFlightDataDivUniqueId}'></p></div>\n                `;i.innerHTML=r,document.getElementById("inserted_flight_data_position_div").appendChild(i),insertedFlightDataDivUniqueId++}n=o,l=_})),document.getElementsByClassName("flight_row_class_for_editing").length>0?(playSoundEffect("success"),clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 255, 0)",setTimeout((()=>{clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),document.getElementById("downloaded_pdf_flight_data_page").style.display="block",document.getElementById("manually_add_flight_row_icon").style.display="none",ensureAllPackageDatesHiddenOrNo()):(playSoundEffect("error"),clint_flight_inputs_submit_icon.style.backgroundColor="red",setTimeout((()=>{clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),document.getElementById("downloaded_pdf_flight_data_page").style.display="none",document.getElementById("manually_add_flight_row_icon").style.display="block"),document.getElementById("flight_from_city_input_id").value=document.getElementById("flight_to_city_input_id").value,document.getElementById("flight_to_city_input_id").value="",document.getElementById("flight_date_input_id").value="",document.getElementById("flight_fly_away_time_input_id").value="",document.getElementById("flight_arrival_time_input_id").value="",document.querySelectorAll(".flight_row_flight_arrival_time_controller").forEach((function(e){e.onclick=function(t){flightRowAirLineControllerFunction(t,e)}})),document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText=insertedFlightDataDivUniqueId}},deleteClickedFlightData=function(e){let t=document.querySelector(".black_overlay"),n=document.getElementById(e);n&&n.remove(),document.getElementById("ensure_delete_or_edit_flight_data_div").style.transform="translate(-50%, -130vh)",t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300),0===document.querySelectorAll(".inserted_flight_data_row").length&&(document.getElementById("downloaded_pdf_flight_data_page").style.display="none",document.getElementById("manually_add_flight_row_icon").style.display="block")},editClickedFlightData=function(e){create_new_clint_data_section.style.display="none",create_new_hotel_package_section.style.display="none",create_new_flight_package_section.style.display="flex",create_new_package_including_and_not_including_data_section.style.display="none",create_new_clint_movements_plan_section.style.display="none",document.getElementById("clint_flight_inputs_submit_icon").style.display="none",document.getElementById("confirm_new_flight_data_row_icon").style.display="block",document.getElementById("cancel_new_flight_data_row_icon").style.display="block",document.getElementById("flight_content_section_title_text_id").innerText="تعديل تفاصيل الطيران",document.getElementById("toggle_flight_data_title_div_id").style.background="rgb(85, 127, 137)",document.getElementById("flight_data_dropdown_content").scrollIntoView({block:"center",inline:"center",behavior:"smooth"});let t=document.querySelector(".black_overlay");document.getElementById("ensure_delete_or_edit_flight_data_div").style.transform="translate(-50%, -130vh)",t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300),document.getElementById("all_editing_flight_row_data_inputs_div").style.display="flex";let n=document.getElementById(e),l=e.split("_").pop(),i=n.querySelector(`p[id^='flight_air_line_${l}']`)?.innerText||"",o=n.querySelector(`p[id^='flight_adult_person_amount_${l}']`)?.innerText||"",_=n.querySelector(`p[id^='flight_infant_person_amount_${l}']`)?.innerText||"",d=n.querySelector(`h2[id^='flight_from_city_${l}']`)?.innerText||"",a=n.querySelector(`h3[id^='flight_to_city_${l}']`)?.innerText||"",r=n.querySelector(`h1[id^='flight_date_${l}']`)?.innerText||"",c=n.querySelector(`p[id^='flight_fly_away_time_${l}']`)?.innerText||"",s=n.querySelector(`p[id^='flight_arrival_time_${l}']`)?.innerText||"",u=n.querySelector(`p[id^='flight_extra_bags_${l}']`)?.innerText||"";document.getElementById("flight_air_line_input_id").value=i,document.getElementById("flight_adult_person_amount_input_id").value=o,document.getElementById("flight_infant_person_amount_input_id").value=_,document.getElementById("flight_from_city_input_id").value=d,document.getElementById("flight_to_city_input_id").value=a,document.getElementById("flight_date_input_id").value=r,document.getElementById("flight_fly_away_time_input_id").value=c,document.getElementById("flight_arrival_time_input_id").value=s,document.getElementById("flight_extra_bags_input_id").value=u,cancelNewFlightDataRow=function(){document.getElementById("flight_air_line_input_id").value="",document.getElementById("flight_from_city_input_id").value="",document.getElementById("flight_to_city_input_id").value="",document.getElementById("flight_date_input_id").value="",document.getElementById("flight_fly_away_time_input_id").value="",document.getElementById("flight_arrival_time_input_id").value="",document.getElementById("flight_extra_bags_input_id").value="",document.getElementById("clint_flight_inputs_submit_icon").style.display="block",document.getElementById("confirm_new_flight_data_row_icon").style.display="none",document.getElementById("cancel_new_flight_data_row_icon").style.display="none",document.getElementById("flight_content_section_title_text_id").innerText="تفاصيل الطيران",document.getElementById("toggle_flight_data_title_div_id").style.background="rgb(131, 0, 148)",document.getElementById("all_editing_flight_row_data_inputs_div").style.display="none",ensureAllPackageDatesHiddenOrNo()},confirmNewFlightDataRow=function(){playSoundEffect("success");let t=document.getElementById(e);t.innerHTML="";let n=document.getElementById("flight_air_line_input_id").value,i=document.getElementById("flight_adult_person_amount_input_id").value,o=document.getElementById("flight_infant_person_amount_input_id").value,_=document.getElementById("flight_from_city_input_id").value,d=document.getElementById("flight_to_city_input_id").value,a=document.getElementById("flight_date_input_id").value,r=document.getElementById("flight_fly_away_time_input_id").value,c=document.getElementById("flight_arrival_time_input_id").value,s=document.getElementById("flight_extra_bags_input_id").value,u=`\n            <div class="flight_row_flight_arrival_time_controller inserted_flight_data_row" style="cursor: pointer;">\n                ${n?`<p id="flight_air_line_${l}">${n}</p>`:""}\n            </div>\n            <div>\n                <p id="flight_adult_person_amount_${l}">${i}</p>\n                ${o?`<p id="flight_infant_person_amount_${l}">${o}</p>`:""}\n            </div>\n            <div>\n                <p>20Kg للشخص</p>\n                ${s?`<p id="flight_extra_bags_${l}">${s}</p>`:""}\n            </div>\n            <div>\n                ${_?`<h2 id="flight_from_city_${l}">${_}</h2>`:""}\n            </div>\n            <div>\n                ${d?`<h3 id="flight_to_city_${l}">${d}</h3>`:""}\n            </div>\n            <div>\n                ${a?`<h1 id="flight_date_${l}" class="flight_date_for_matching_whole_package_date">${a}</h1>`:""}\n            </div>\n            <div>\n                ${r?`<p id="flight_fly_away_time_${l}">${r}</p>`:""}\n            </div>\n            <div>\n                ${c?`<p id="flight_arrival_time_${l}">${c}</p>`:""}\n            </div>\n        `;t.innerHTML=u,cancelNewFlightDataRow(),document.querySelectorAll(".flight_row_flight_arrival_time_controller").forEach((function(e){e.onclick=function(t){flightRowAirLineControllerFunction(t,e)}}))}},flightRowAirLineControllerFunction=function(e){let t=document.getElementById("ensure_delete_or_edit_flight_data_div"),n=e.target.closest(".flight_row_class");if(n){currentFlightDataDivId=n.id;let e=document.querySelector(".black_overlay");if(!e){e=document.createElement("div"),e.classList.add("black_overlay"),document.body.appendChild(e),setTimeout((()=>{e.style.opacity="1",t.style.transform="translate(-50%, -50%)"}),50);let n=()=>{t.style.transform="translate(-50%, -130vh)",e.style.opacity="0",setTimeout((()=>{document.body.contains(e)&&document.body.removeChild(e)}),300)};e.addEventListener("click",n),e.addEventListener("click",(e=>{e.stopPropagation()}))}runDeleteClickedFlightDataFunction=function(){deleteClickedFlightData(currentFlightDataDivId)},runEditClickedFlightDataFunction=function(){editClickedFlightData(currentFlightDataDivId),document.getElementById("header_navbar_links_clint_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_hotel_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_flight_a").style.backgroundColor="rgb(0, 46, 57)",document.getElementById("header_navbar_links_package_icluding_and_not_including_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_clint_movements_a").style.backgroundColor="rgb(85, 127, 137)"}}},addMoreFlightRowTableDivFunction=function(e){let t=document.querySelectorAll(".flight_row_class_for_editing");if(0===t.length||!currentFlightDataDivId)return;let n=document.getElementById(currentFlightDataDivId);if(!n)return;insertedFlightDataDivUniqueId=document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText;let l=n.cloneNode(!0);l.id=`flight_row_id_${insertedFlightDataDivUniqueId}`,l.querySelectorAll("[id]").forEach((e=>{let t=e.id.split("_");t[t.length-1]=insertedFlightDataDivUniqueId,e.id=t.join("_")}));let i=l.querySelector("h2"),o=l.querySelector("h3");if(i&&o){let e=i.innerText;i.innerText=o.innerText,o.innerText=e}if(insertedFlightDataDivUniqueId++,"up"===e){t[0].parentNode.insertBefore(l,t[0]);let e=document.querySelectorAll(".hotel_row_class_for_editing");if(e.length>0){let t=e[0],n=t.querySelector("h2")?.innerText,i=l.querySelector("h1");i&&n&&(i.innerText=n)}}else if("down"===e){t[t.length-1].parentNode.insertBefore(l,t[t.length-1].nextSibling);let e=document.querySelectorAll(".hotel_row_class_for_editing");if(e.length>0){let t=e[e.length-1],n=t.querySelector("h3")?.innerText,i=l.querySelector("h1");i&&n&&(i.innerText=n)}}let _=document.querySelector(".black_overlay");document.getElementById("ensure_delete_or_edit_flight_data_div").style.transform="translate(-50%, -130vh)",_.style.opacity="0",setTimeout((()=>{document.body.removeChild(_)}),300),document.querySelectorAll(".flight_row_flight_arrival_time_controller").forEach((function(e){e.onclick=function(t){flightRowAirLineControllerFunction(t,e)}})),document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText=insertedFlightDataDivUniqueId,ensureAllPackageDatesHiddenOrNo()},manuallyCreateNewFlightRow=function(){document.getElementById("inserted_flight_data_position_div").innerHTML="",insertedFlightDataDivUniqueId=""!==document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText?document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText:1;let e=document.createElement("div");e.id=`flight_row_id_${insertedFlightDataDivUniqueId}`,e.className="flight_row_class flight_row_class_for_editing";let t=document.getElementById("adult_package_person_amount_input_id").value,n=document.getElementById("kids_package_person_amount_input_id").value,l=document.getElementById("infant_package_person_amount_input_id").value;function i(e){let t=e.match(/\d+/);return t?parseInt(t[0]):0}let o=i(t)+i(n),_=`\n        <div class="flight_row_flight_arrival_time_controller inserted_flight_data_row" style="cursor: pointer;"><p id='flight_air_line_${insertedFlightDataDivUniqueId}'></p></div>\n        <div><p id="flight_adult_person_amount_${insertedFlightDataDivUniqueId}">\n                ${0!==o?`${o} بالغين`:""}\n            </p>\n            ${l?`<p id="flight_infant_person_amount_${insertedFlightDataDivUniqueId}">${l}</p>`:""}</div>\n        </div>\n        <div><p>20Kg للشخص</p></div>\n        <div><h2 id='flight_from_city_${insertedFlightDataDivUniqueId}'></h2></div>\n        <div><h3 id='flight_to_city_${insertedFlightDataDivUniqueId}'></h3></div>\n        <div><h1 id='flight_date_${insertedFlightDataDivUniqueId}' class="flight_date_for_matching_whole_package_date"></h1></div>\n        <div><p id='flight_fly_away_time_${insertedFlightDataDivUniqueId}'></p></div>\n        <div><p id='flight_arrival_time_${insertedFlightDataDivUniqueId}'></p></div>\n    `;e.innerHTML=_,document.getElementById("inserted_flight_data_position_div").appendChild(e),document.getElementById("downloaded_pdf_flight_data_page").style.display="block";let d=document.querySelectorAll(".hotel_row_class_for_editing");if(d.length>0){let t=d[0],n=t.querySelector("h2")?.innerText,l=t.querySelector("h5")?.innerText,i=e.querySelector("h1");if(i&&n&&(i.innerText=n),"بالي"===l){let t=e.querySelector("h2"),n=e.querySelector("h3");t&&(t.innerText="جاكرتا"),n&&(n.innerText="بالي")}else{let t=e.querySelector("h2"),n=e.querySelector("h3");t&&(t.innerText="بالي"),n&&(n.innerText="جاكرتا")}}document.querySelectorAll(".flight_row_flight_arrival_time_controller").forEach((function(e){e.onclick=function(t){flightRowAirLineControllerFunction(t,e)}})),document.getElementById("manually_add_flight_row_icon").style.display="none",insertedFlightDataDivUniqueId++,document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText=insertedFlightDataDivUniqueId,ensureAllPackageDatesHiddenOrNo()},createHotelsDataFunction=function(){let e=document.getElementById("hotel_name_input_id").value,t=document.getElementById("hotel_location_input_id").value,n=document.getElementById("hotel_bali_area_input_id").value,l=document.getElementById("hotel_stars_rate_input_id").value,i=document.getElementById("hotel_check_in_input_id").value,o=document.getElementById("hotel_check_out_input_id").value,_=document.getElementById("hotel_room_type_description_input_id").value,d=document.getElementById("hotel_room_contain_pool_input_id").value,a=document.getElementById("hotel_room_view_input_id").value,r=document.getElementById("hotel_unit_amount_input_id").value,c=document.getElementById("hotel_breakfast_people_amount_input_id").value,s=document.getElementById("hotel_extra_bed_input_id").value,u=document.getElementById("hotel_special_room_request_input_id").value,m=document.getElementById("hotel_room_extra_info_textarea_id").value,g=document.getElementById("hotel_room_type_description_input_id_2").value,y=document.getElementById("hotel_room_contain_pool_input_id_2").value,p=document.getElementById("hotel_room_view_input_id_2").value,h=document.getElementById("hotel_unit_amount_input_id_2").value,v=document.getElementById("hotel_breakfast_people_amount_input_id_2").value,f=document.getElementById("hotel_extra_bed_input_id_2").value,E=document.getElementById("hotel_special_room_request_input_id_2").value,b=document.getElementById("hotel_room_extra_info_textarea_id_2").value;if(""===e||""===i||""===o||""===_||""===r||"none"===document.getElementById("downloaded_pdf_clint_data_page").style.display)return playSoundEffect("error"),hotel_inputs_submit_icon.style.backgroundColor="red",void setTimeout((()=>{hotel_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500);if("flex"===document.getElementById("hotel_second_room_data_input_div").style.display&&(""===g||""===h))return playSoundEffect("error"),hotel_inputs_submit_icon.style.backgroundColor="red",void setTimeout((()=>{hotel_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500);if("none"!==document.getElementById("hotel_location_input_id").style.display){if(""===document.getElementById("hotel_location_input_id").value)return playSoundEffect("error"),hotel_inputs_submit_icon.style.backgroundColor="red",void setTimeout((()=>{hotel_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500);if("بالي"===document.getElementById("hotel_location_input_id").value&&""===document.getElementById("hotel_bali_area_input_id").value)return playSoundEffect("error"),hotel_inputs_submit_icon.style.backgroundColor="red",void setTimeout((()=>{hotel_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500)}playSoundEffect("success"),hotel_inputs_submit_icon.style.backgroundColor="rgb(0, 255, 0)",setTimeout((()=>{hotel_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),2e3);let w=""!==document.getElementById("store_google_sheet_hotel_uniuqe_id_name_value").innerText?document.getElementById("store_google_sheet_hotel_uniuqe_id_name_value").innerText:1;if("none"!==document.getElementById("hotel_location_input_id").style.display){let C=null;C="5 نجوم"===l?"five":"4 نجوم"===l?"four":"3 نجوم"===l?"three":"no";let x=`\n            <div><h1 id='hotel_name_${w}'>${e}</h1></div>\n            <div><h2 id='hotel_check_in_${w}' class="hotel_check_in_date_for_matching_whole_package_date">${i}</h2></div>\n            <div><h3 style="color: red" id='hotel_check_out_${w}' class="hotel_check_out_date_for_matching_whole_package_date">${o}</h3></div>\n            <div><h4 id='hotel_total_nights_${w}'>${storeHotelTotalNights}</h4></div>\n            <div class="description_cell">\n                <span id='hotel_room_type_description_${w}'>${_}</span></div>\n            <div>\n                <p id='hotel_total_unit_${w}'>${storeHotelTotalUnitNumber}</p>\n                ${h&&"none"!==document.getElementById("hotel_second_room_data_input_div").style.display?`<p style="width: 100%; background: rgb(5, 17, 21); color: white">+ </p><p id="hotel_total_unit_2_${w}" style="width: 100%; background: rgb(5, 17, 21); color: white">${storeHotelTotalUnitNumber_2}</p>`:""}\n            </div>\n            <div>\n                <h5 id='hotel_location_${w}'>${t}</h5>\n                ${n?`<br><h6 id='hotel_area_${w}'>${n}</h6>`:""}\n                <img src="صور-الفنادق/${C}-stars-hotel-image.jpg" id='hotel_image_${w}' class="hotel_row_image_controller inserted_hotel_data_row" style="cursor: pointer">\n            </div>\n        `,T=document.createElement("div");if(T.id=`hotel_row_id_${w}`,T.className="hotel_row_class hotel_row_class_for_editing new_hotel_data_by_user_writing_class",T.innerHTML=x,""!==d){let D=document.createElement("span");D.id=`hotel_pool_span_id_${w}`,D.innerText=d,T.querySelector(".description_cell").appendChild(D)}if(""!==a){let q=document.createElement("span");q.id=`hotel_view_span_id_${w}`,q.innerText=a,T.querySelector(".description_cell").appendChild(q)}if(""!==c){let $=document.createElement("span");$.id=`hotel_breakfast_span_id_${w}`,$.innerText=c,T.querySelector(".description_cell").appendChild($)}if(""!==s){let S=document.createElement("span");S.id=`hotel_extra_bed_span_id_${w}`,S.className="hotel_special_request_span_class",S.innerText=s,S.style.width="100%",S.style.background="rgb(85, 127, 137)",S.style.color="white",S.style.padding="0 5px",T.querySelector(".description_cell").appendChild(S)}if(""!==u){let A=document.createElement("span");A.id=`hotel_special_request_span_id_${w}`,A.className="hotel_special_request_span_class",A.innerText=u,A.style.background="rgb(85, 127, 137)",A.style.color="white",A.style.padding="0 5px",T.querySelector(".description_cell").appendChild(A)}if(""!==m){let M=m.replace(/^\s*\++\s*/,""),N=document.createElement("span");N.id=`hotel_extra_info_span_id_${w}`,N.innerText=`+ ${M}`,N.style.width="100%",N.style.background="rgb(85, 127, 137)",N.style.color="white",N.style.padding="0 5px",T.querySelector(".description_cell").appendChild(N)}if("none"!==document.getElementById("hotel_second_room_data_input_div").style.display){if(""!==g){let F=document.createElement("span");F.id=`hotel_room_type_description_2_${w}`,F.innerText=g,F.style.width="100%",F.style.background="rgb(5, 17, 21)",F.style.color="white";let H=document.createElement("span");H.innerText="+ ",H.style.width="100%",H.style.background="rgb(5, 17, 21)",H.style.color="white",T.querySelector(".description_cell").appendChild(H),T.querySelector(".description_cell").appendChild(F)}if(""!==y){let P=document.createElement("span");P.id=`hotel_pool_span_id_2_${w}`,P.innerText=y,P.style.width="100%",P.style.background="rgb(5, 17, 21)",P.style.color="white",T.querySelector(".description_cell").appendChild(P)}if(""!==p){let R=document.createElement("span");R.id=`hotel_view_span_id_2_${w}`,R.style.width="100%",R.innerText=p,R.style.background="rgb(5, 17, 21)",R.style.color="white",T.querySelector(".description_cell").appendChild(R)}if(""!==v){let L=document.createElement("span");L.id=`hotel_breakfast_span_id_2_${w}`,L.innerText=v,L.style.width="100%",L.style.background="rgb(5, 17, 21)",L.style.color="white",T.querySelector(".description_cell").appendChild(L)}if(""!==f){let U=document.createElement("span");U.id=`hotel_extra_bed_span_id_2_${w}`,U.className="hotel_special_request_span_class",U.innerText=f,U.style.width="100%",U.style.background="rgb(5, 17, 21)",U.style.color="white",U.style.padding="0 5px",T.querySelector(".description_cell").appendChild(U)}if(""!==E){let O=document.createElement("span");O.id=`hotel_special_request_span_id_2_${w}`,O.className="hotel_special_request_span_class",O.innerText=E,O.style.width="100%",O.style.background="rgb(5, 17, 21)",O.style.color="white",O.style.padding="0 5px",T.querySelector(".description_cell").appendChild(O)}if(""!==b){let j=b.replace(/^\s*\++\s*/,""),V=document.createElement("span");V.id=`hotel_extra_info_span_id_2_${w}`,V.innerText=`+ ${j}`,V.style.width="100%",V.style.background="rgb(5, 17, 21)",V.style.color="white",V.style.padding="0 5px",T.querySelector(".description_cell").appendChild(V)}}document.getElementById("inserted_hotel_data_position_div").appendChild(T),T.querySelectorAll(".hotel_row_image_controller").forEach((e=>{handleClickEvent(e)})),document.getElementById("hotel_location_input_id").style.display="none",document.getElementById("hotel_location_input_id").value="",document.getElementById("hotel_bali_area_input_id").style.display="none",document.getElementById("hotel_bali_area_input_id").value="",document.getElementById("hotel_stars_rate_input_id").style.display="none",document.getElementById("hotel_stars_rate_input_id").value="",document.getElementById("hotel_name_input_id").readOnly=!0,document.getElementById("hotel_room_type_description_input_id").readOnly=!0,document.getElementById("hotel_room_type_description_input_id_2").readOnly=!0,document.getElementById("hotel_name_input_id").setAttribute("autocomplete","off"),document.getElementById("hotel_room_type_description_input_id").setAttribute("autocomplete","off"),document.getElementById("hotel_room_type_description_input_id_2").setAttribute("autocomplete","off"),document.getElementById("hotel_name_input_id").style.cursor="pointer",document.getElementById("hotel_name_input_id").onclick=function(){showOverlay("all_hotel_names_dropdown")},document.getElementById("hotel_room_type_description_input_id").style.cursor="pointer",document.getElementById("hotel_room_type_description_input_id").onclick=function(){createRoomTypeDescripyionDropDown(),showOverlay("hotel_room_type_description_dropdown")},document.getElementById("hotel_room_type_description_input_id_2").style.cursor="pointer",document.getElementById("hotel_room_type_description_input_id_2").onclick=function(){createRoomTypeDescripyionDropDown(),showOverlay("hotel_room_type_description_dropdown")},document.getElementById("change_insert_hotel_data_system_icon").style.background="rgb(0, 87, 116)",document.getElementById("change_insert_hotel_data_system_icon").style.color="white"}else{let W=e.toLowerCase().replace(/\s+/g,"-"),Y="",K="";for(let X of allHotelDataArray)if(X.hotelName===e){Y=X.hotelLocation,X.hasOwnProperty("hotelArea")&&(K=X.hotelArea);break}let G=`\n            <div><h1 id='hotel_name_${w}'>${e}</h1></div>\n            <div><h2 id='hotel_check_in_${w}' class="hotel_check_in_date_for_matching_whole_package_date">${i}</h2></div>\n            <div><h3 style="color: red" id='hotel_check_out_${w}' class="hotel_check_out_date_for_matching_whole_package_date">${o}</h3></div>\n            <div><h4 id='hotel_total_nights_${w}'>${storeHotelTotalNights}</h4></div>\n            <div class="description_cell">\n                <span id='hotel_room_type_description_${w}'>${_}</span></div>\n            <div>\n                <p id='hotel_total_unit_${w}'>${storeHotelTotalUnitNumber}</p>\n                ${h&&"none"!==document.getElementById("hotel_second_room_data_input_div").style.display?`<p style="width: 100%; background: rgb(5, 17, 21); color: white">+ </p><p id="hotel_total_unit_2_${w}" style="width: 100%; background: rgb(5, 17, 21); color: white">${storeHotelTotalUnitNumber_2}</p>`:""}\n            </div>\n            <div>\n                <h5 id='hotel_location_${w}'>${Y}</h5>\n                ${K?`<br><h6 id='hotel_area_${w}'>${K}</h6>`:""}\n                <img src="صور-الفنادق/${W}.jpg" class="hotel_row_image_controller inserted_hotel_data_row" style="cursor: pointer">\n            </div>\n        `,J=document.createElement("div");if(J.id=`hotel_row_id_${w}`,J.className="hotel_row_class hotel_row_class_for_editing",J.innerHTML=G,""!==d){let z=document.createElement("span");z.id=`hotel_pool_span_id_${w}`,z.innerText=d,J.querySelector(".description_cell").appendChild(z)}if(""!==a){let Q=document.createElement("span");Q.id=`hotel_view_span_id_${w}`,Q.innerText=a,J.querySelector(".description_cell").appendChild(Q)}if(""!==c){let Z=document.createElement("span");Z.id=`hotel_breakfast_span_id_${w}`,Z.innerText=c,J.querySelector(".description_cell").appendChild(Z)}if(""!==s){let ee=document.createElement("span");ee.id=`hotel_extra_bed_span_id_${w}`,ee.className="hotel_special_request_span_class",ee.innerText=s,ee.style.width="100%",ee.style.background="rgb(85, 127, 137)",ee.style.color="white",ee.style.padding="0 5px",J.querySelector(".description_cell").appendChild(ee)}if(""!==u){let te=document.createElement("span");te.id=`hotel_special_request_span_id_${w}`,te.className="hotel_special_request_span_class",te.innerText=u,te.style.background="rgb(85, 127, 137)",te.style.color="white",te.style.padding="0 5px",J.querySelector(".description_cell").appendChild(te)}if(""!==m){let ne=m.replace(/^\s*\++\s*/,""),le=document.createElement("span");le.id=`hotel_extra_info_span_id_${w}`,le.innerText=`+ ${ne}`,le.style.width="100%",le.style.background="rgb(85, 127, 137)",le.style.color="white",le.style.padding="0 5px",J.querySelector(".description_cell").appendChild(le)}if("none"!==document.getElementById("hotel_second_room_data_input_div").style.display){if(""!==g){let ie=document.createElement("span");ie.id=`hotel_room_type_description_2_${w}`,ie.innerText=g,ie.style.width="100%",ie.style.background="rgb(5, 17, 21)",ie.style.color="white";let oe=document.createElement("span");oe.innerText="+ ",oe.style.width="100%",oe.style.background="rgb(5, 17, 21)",oe.style.color="white",J.querySelector(".description_cell").appendChild(oe),J.querySelector(".description_cell").appendChild(ie)}if(""!==y){let _e=document.createElement("span");_e.id=`hotel_pool_span_id_2_${w}`,_e.innerText=y,_e.style.width="100%",_e.style.background="rgb(5, 17, 21)",_e.style.color="white",J.querySelector(".description_cell").appendChild(_e)}if(""!==p){let de=document.createElement("span");de.id=`hotel_view_span_id_2_${w}`,de.style.width="100%",de.innerText=p,de.style.background="rgb(5, 17, 21)",de.style.color="white",J.querySelector(".description_cell").appendChild(de)}if(""!==v){let ae=document.createElement("span");ae.id=`hotel_breakfast_span_id_2_${w}`,ae.innerText=v,ae.style.width="100%",ae.style.background="rgb(5, 17, 21)",ae.style.color="white",J.querySelector(".description_cell").appendChild(ae)}if(""!==f){let re=document.createElement("span");re.id=`hotel_extra_bed_span_id_2_${w}`,re.className="hotel_special_request_span_class",re.innerText=f,re.style.width="100%",re.style.background="rgb(5, 17, 21)",re.style.color="white",re.style.padding="0 5px",J.querySelector(".description_cell").appendChild(re)}if(""!==E){let ce=document.createElement("span");ce.id=`hotel_special_request_span_id_2_${w}`,ce.className="hotel_special_request_span_class",ce.innerText=E,ce.style.width="100%",ce.style.background="rgb(5, 17, 21)",ce.style.color="white",ce.style.padding="0 5px",J.querySelector(".description_cell").appendChild(ce)}if(""!==b){let se=b.replace(/^\s*\++\s*/,""),ue=document.createElement("span");ue.id=`hotel_extra_info_span_id_2_${w}`,ue.innerText=`+ ${se}`,ue.style.width="100%",ue.style.background="rgb(5, 17, 21)",ue.style.color="white",ue.style.padding="0 5px",J.querySelector(".description_cell").appendChild(ue)}}document.getElementById("inserted_hotel_data_position_div").appendChild(J),J.querySelectorAll(".hotel_row_image_controller").forEach((e=>{handleClickEvent(e)}))}if(w++,document.getElementById("store_google_sheet_hotel_uniuqe_id_name_value").innerText=w,document.getElementById("downloaded_pdf_hotel_data_page").style.display="block",ensureAllPackageDatesHiddenOrNo(),document.getElementById("hotel_name_input_id").value="",document.getElementById("hotel_location_input_id").value="",document.getElementById("hotel_stars_rate_input_id").value="",document.getElementById("hotel_check_in_input_id").value=document.getElementById("hotel_check_out_input_id").value,document.getElementById("store_google_sheet_hotel_last_stopped_check_out_date_value").innerText=document.getElementById("hotel_check_in_input_id").value,document.getElementById("hotel_check_out_input_id").value="",document.getElementById("hotel_total_nights_input_id").value="",document.getElementById("hotel_room_type_description_input_id").value="",document.getElementById("hotel_room_contain_pool_input_id").value="",document.getElementById("hotel_room_view_input_id").value="",document.getElementById("hotel_special_room_request_input_id").value="",document.getElementById("hotel_room_extra_info_textarea_id").value="",document.getElementById("hotel_room_type_description_input_id_2").value="",document.getElementById("hotel_room_contain_pool_input_id_2").value="",document.getElementById("hotel_room_view_input_id_2").value="",document.getElementById("hotel_special_room_request_input_id_2").value="",document.getElementById("hotel_room_extra_info_textarea_id_2").value="",createHotelDragAndDropMood(),saveOriginalHotelDates(),"none"!==document.getElementById("downloaded_pdf_flight_data_page").style.display){document.getElementById("inserted_flight_data_position_div").innerHTML="",insertedFlightDataDivUniqueId=""!==document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText?document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText:1;let me=document.querySelectorAll(".hotel_row_class_for_editing"),ge=null,ye=null,pe=["بالي","جاكرتا","باندونق","بونشاك","لومبوك"],he=document.getElementById("adult_package_person_amount_input_id").value,ve=document.getElementById("kids_package_person_amount_input_id").value,fe=document.getElementById("infant_package_person_amount_input_id").value;function k(e){let t=e.match(/\d+/);return t?parseInt(t[0]):0}let Ee=k(he)+k(ve);me.forEach(((e,t)=>{let n=e.querySelector("h5").innerText,l=e.querySelector("h2").innerText;if("جاكرتا"===ge&&"باندونق"===n||"باندونق"===ge&&"جاكرتا"===n)return ge=n,void(ye=l);if("جاكرتا"===ge&&"بونشاك"===n)return ge=n,void(ye=l);if("بونشاك"===ge&&"جاكرتا"===n)return ge=n,void(ye=l);if(pe.includes(n)&&ge&&ge!==n&&pe.includes(ge)||"بونشاك"===ge&&"بالي"===n||"بالي"===ge&&"بونشاك"===n){let e=ge,t=n;if("بونشاك"===ge&&"بالي"===n||"باندونق"===ge&&"بالي"===n?(e="جاكرتا",t="بالي"):("بالي"===ge&&"بونشاك"===n||"بالي"===ge&&"باندونق"===n)&&(e="بالي",t="جاكرتا"),"باندونق"===ge&&"بونشاك"===n||"بونشاك"===ge&&"باندونق"===n)return ge=n,void(ye=l);let i=document.createElement("div");i.id=`flight_row_id_${insertedFlightDataDivUniqueId}`,i.className="flight_row_class flight_row_class_for_editing";let o=`\n                <div class="flight_row_flight_arrival_time_controller inserted_flight_data_row" style="cursor: pointer;"><p id='flight_air_line_${insertedFlightDataDivUniqueId}'></p></div>\n                <div><p id="flight_adult_person_amount_${insertedFlightDataDivUniqueId}">\n                        ${1===Ee?`${Ee} بالغ`:0!==Ee?`${Ee} بالغين`:""}\n                    </p>\n                    ${fe?`<p id="flight_infant_person_amount_${insertedFlightDataDivUniqueId}">${fe}</p>`:""}</div>\n                </div>\n                <div><p>20Kg للشخص</p></div>\n                <div><h2 id='flight_from_city_${insertedFlightDataDivUniqueId}'>${e}</h2></div>\n                <div><h3 id='flight_to_city_${insertedFlightDataDivUniqueId}'>${t}</h3></div>\n                <div><h1 id='flight_date_${insertedFlightDataDivUniqueId}' class="flight_date_for_matching_whole_package_date">${l}</h1></div>\n                <div><p id='flight_fly_away_time_${insertedFlightDataDivUniqueId}'></p></div>\n                <div><p id='flight_arrival_time_${insertedFlightDataDivUniqueId}'></p></div>\n            `;i.innerHTML=o,document.getElementById("inserted_flight_data_position_div").appendChild(i),insertedFlightDataDivUniqueId++}ge=n,ye=l})),document.getElementsByClassName("flight_row_class_for_editing").length>0?(playSoundEffect("success"),clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 255, 0)",setTimeout((()=>{clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),document.getElementById("downloaded_pdf_flight_data_page").style.display="block",document.getElementById("manually_add_flight_row_icon").style.display="none",ensureAllPackageDatesHiddenOrNo()):(playSoundEffect("error"),clint_flight_inputs_submit_icon.style.backgroundColor="red",setTimeout((()=>{clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),document.getElementById("downloaded_pdf_flight_data_page").style.display="none"),document.getElementById("flight_from_city_input_id").value=document.getElementById("flight_to_city_input_id").value,document.getElementById("flight_to_city_input_id").value="",document.getElementById("flight_date_input_id").value="",document.getElementById("flight_fly_away_time_input_id").value="",document.getElementById("flight_arrival_time_input_id").value="",document.querySelectorAll(".flight_row_flight_arrival_time_controller").forEach((function(e){e.onclick=function(t){flightRowAirLineControllerFunction(t,e)}})),document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText=insertedFlightDataDivUniqueId}if("none"!==document.getElementById("downloaded_pdf_clint_movements_data_page").style.display){function I(e,t){let[n,l]=e.split(" "),i={"يناير":0,"فبراير":1,"مارس":2,"أبريل":3,"مايو":4,"يونيو":5,"يوليو":6,"أغسطس":7,"سبتمبر":8,"أكتوبر":9,"نوفمبر":10,"ديسمبر":11},o=Object.keys(i),_=new Date;return _.setDate(parseInt(n)),_.setMonth(i[l]),_.setDate(_.getDate()+t),`${_.getDate()} ${o[_.getMonth()]}`}function B(e){return e.replace(/\+\s*\+/g," + ").trim()}document.getElementById("inserted_clint_movements_data_position_div").innerHTML="";let be=document.getElementById("include_airport_welcome__checkbox").checked,we=document.querySelectorAll(".hotel_row_class_for_editing"),ke=we.length,Ie={baliUbudKeramas:{},baliOthers:{},jakarta:{},puncak:{},bandung:{},lombok:{}},Be="",Ce="",xe=!1,Te=!1,De=!1,qe=!1,$e=we[0].querySelector("h5").innerText,Se=we[ke-1].querySelector("h5").innerText,Ae="";we.forEach(((e,t)=>{let n,l,i=e.querySelector("h1").innerText,o=e.querySelector("h2").innerText,_=parseInt(e.querySelector("h4").innerText,10),d=e.querySelector("h5").innerText,a="بالي"===d?e.querySelector("h6").innerText:null,r={"بكج شهر عسل":"honeymoon","بكج شباب":"guys","بكج عائلة":"family","بكج شخصين":"twopeople","بكج قروب":"family","بكج جديد":"family"}[document.getElementById("clint_package_type_h6").innerText.trim()]||"family";"بالي"===d&&a?"اوبود"===a||"كيراماس"===a?(n=allClintVisitingPlacesArray[1][r],l=Ie.baliUbudKeramas):["كوتا","نوسا دوا","سيمنياك","جيمباران","اولواتو","ليجين","سانورا","تابانان","Tampaksiring"].includes(a)&&(n=allClintVisitingPlacesArray[0][r],l=Ie.baliOthers):"جاكرتا"===d?(n=allClintVisitingPlacesArray[2][r],l=Ie.jakarta):"بونشاك"===d?(n=allClintVisitingPlacesArray[3][r],l=Ie.puncak):"باندونق"===d?(n=allClintVisitingPlacesArray[4][r],l=Ie.bandung):"لومبوك"===d&&(n=allClintVisitingPlacesArray[5][r],l=Ie.lombok),Ie[d]||(Ie[d]={});let c=!1,s=0;for(let e=0;e<_;e++){let a=document.createElement("div");a.className="clint_movements_row_class clint_movements_row_class_for_editing";let r=I(o,e),u="";if(n){for(;l[s]&&n["visitingPlaceNamesDay"+(s-1)];)s++;if(n["visitingPlaceNamesDay"+(s-1)]){let e=n["visitingPlaceNamesDay"+(s-1)];l[s]=!0,e&&e.length>0&&(u=`${e.join(" + ")} `),s++}}let m=0===e?`تسجيل الدخول في ${i}`:"",g=d;if(0===e&&t>0){Be=we[t-1].querySelector("h5").innerText,Ce=we[t-1].querySelector("h1").innerText,d!==Be&&(g=`${Be}-${d}`,Ae=g);let e="";!be||"بالي"!==d&&"جاكرتا"!==d||d===Be||"بونشاك"===Be&&"جاكرتا"===d||"باندونق"===Be&&"جاكرتا"===d||(e=`الإستقبال في مطار ${d} + `),c||(m=`تسجيل الخروج من ${Ce} `,Be!==d&&(m+=`+ الذهاب الى ${d} `),m+=`+ ${e}${u} + تسجيل الدخول في ${i}`,c=!0)}if("بالي"!==d&&"جاكرتا"!==d||Te||(m=m.replace(`تسجيل الدخول في ${i}`,`تسجيل الدخول في ${i} + التجول في السنتر`),Te=!0),xe||"بالي"!==d&&"جاكرتا"!==d||!be||(m=`الإستقبال في مطار ${d} + ${m}`,xe=!0),xe||0!==t||!be||"بونشاك"!==$e&&"باندونق"!==$e||(m=`الإستقبال في مطار جاكرتا + الذهاب الى ${d} + تسجيل الدخول في ${i}`,xe=!0),m=B(m),a.innerHTML=`\n                    <div><h1>${r}</h1></div>\n                    <div><h2>${m}</h2></div>\n                    <div class="clint_movements_row_controller" style="cursor: pointer;"><h3>${0===e?g:d}</h3></div>\n                `,!De&&"جاكرتا"===d&&0===e&&0!==t){let e=a.querySelector("h2");e.innerText+=" + الذهاب لمطعم السدة للعشاء",e.innerText=B(e.innerText),De=!0}if(n&&0===e){let e=1;for(;l[e]&&n["visitingPlaceNamesDay"+(e-1)];)e++;if(n["visitingPlaceNamesDay"+(e-1)]){let t=n["visitingPlaceNamesDay"+(e-1)];l[e]=!0,t&&t.length>0&&(u=`${t.join(" + ")} `)}}if(n){let t=e+1;for(;l[t]&&n["visitingPlaceNamesDay"+(t-1)];)t++;if(n["visitingPlaceNamesDay"+(t-1)]){let e=n["visitingPlaceNamesDay"+(t-1)];l[t]=!0,e&&e.length>0&&(u=`${e.join(" + ")} `)}}if(u&&(a.querySelector("h2").innerText+=`${u}`),document.getElementById("inserted_clint_movements_data_position_div").appendChild(a),t===ke-1&&e===_-1)if(qe){a.querySelector("h3").innerText=Se}else qe=!0}if(t===ke-1){let e=I(o,_),t=document.createElement("div");t.className="clint_movements_row_class clint_movements_row_class_for_editing",t.innerHTML=`\n            <div><h1>${e}</h1></div>\n            <div><h2>تسجيل الخروج من ${i} والتحرك للمطار للمغادرة</h2></div>\n            <div class="clint_movements_row_controller" style="cursor: pointer;"><h3>${d}-مغادرة</h3></div>\n        `,document.getElementById("inserted_clint_movements_data_position_div").appendChild(t)}})),document.getElementById("downloaded_pdf_clint_movements_data_page").style.display="block",filterUsedClintVisitingPlacesNames(),document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{e.querySelectorAll(".clint_movements_row_controller").forEach((function(e){e.onclick=function(t){clintMovementsRowCityNameControllerFunction(t,e)}}))})),ensureAllPackageDatesHiddenOrNo(),highlightWeekendClintMovements()}},deleteClickedHotelData=function(e){let t=document.getElementById(e);t&&t.remove();let n=document.querySelector(".black_overlay");if(document.getElementById("ensure_delete_or_edit_hotel_data_div").style.transform="translate(-50%, -130vh)",n.style.opacity="0",setTimeout((()=>{document.body.removeChild(n)}),300),updateHotelRowDates(),0===document.querySelectorAll(".inserted_hotel_data_row").length)document.getElementById("downloaded_pdf_hotel_data_page").style.display="none",saveOriginalHotelDates(),"none"!==document.getElementById("create_new_clint_data_section").style.display?document.getElementById("hotel_check_in_input_id").value=document.getElementById("whole_package_start_date_input_id").value:document.getElementById("hotel_check_in_input_id").value="";else{let e=document.querySelectorAll(".hotel_row_class_for_editing"),t=e[e.length-1].querySelector("h3"),n=t?t.innerText.trim():"";document.getElementById("hotel_check_in_input_id").value=n,document.getElementById("store_google_sheet_hotel_last_stopped_check_out_date_value").innerText=n}},editClickedHotelDataFunction=function(e){create_new_clint_data_section.style.display="none",create_new_hotel_package_section.style.display="flex",create_new_flight_package_section.style.display="none",create_new_package_including_and_not_including_data_section.style.display="none",create_new_clint_movements_plan_section.style.display="none",document.getElementById("hotel_inputs_submit_icon").style.display="none",document.getElementById("change_insert_hotel_data_system_icon").style.display="none",document.getElementById("show_or_hide_second_room_inputs_div_icon").style.display="none",document.getElementById("confirm_new_hotel_data_row_icon").style.display="block",document.getElementById("cancel_new_hotel_data_row_icon").style.display="block",document.getElementById("show_or_hide_second_room_inputs_div_icon_2").style.display="block",document.getElementById("change_insert_hotel_data_system_icon_2").style.display="block",document.getElementById("hotel_content_section_title_text_id").innerText="تعديل تفاصيل الفندق",document.getElementById("toggle_hotel_data_title_div_id").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("hotel_data_dropdown_content").scrollIntoView({block:"center",inline:"center",behavior:"smooth"});let t=document.querySelector(".black_overlay");document.getElementById("ensure_delete_or_edit_hotel_data_div").style.transform="translate(-50%, -130vh)",t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300);let n=document.getElementById(e),l=e.split("_").pop();document.getElementById("hotel_check_in_input_id").disabled=!1;let i=n.querySelector(`h1[id^='hotel_name_${l}']`)?.innerText||"",o=n.querySelector(`h5[id^='hotel_location_${l}']`)?.innerText||"",_=n.querySelector(`h6[id^='hotel_area_${l}']`)?.innerText||"",d=n.querySelector(`h2[id^='hotel_check_in_${l}']`)?.innerText||"",a=n.querySelector(`h3[id^='hotel_check_out_${l}']`)?.innerText||"";storeHotelTotalNights=n.querySelector(`h4[id^='hotel_total_nights_${l}']`)?.innerText||"";let r=n.querySelector(`span[id^='hotel_room_type_description_${l}']`)?.innerText||"",c=n.querySelector(`span[id^='hotel_pool_span_id_${l}']`)?.innerText||"",s=n.querySelector(`span[id^='hotel_view_span_id_${l}']`)?.innerText||"";storeHotelTotalUnitNumber=n.querySelector(`p[id^='hotel_total_unit_${l}']`)?.innerText||"";let u=n.querySelector(`span[id^='hotel_breakfast_span_id_${l}']`)?.innerText||"",m=n.querySelector(`span[id^='hotel_extra_bed_span_id_${l}']`)?.innerText||"",g=n.querySelector(`span[id^='hotel_special_request_span_id_${l}']`)?.innerText||"",y=n.querySelector(`span[id^='hotel_extra_info_span_id_${l}']`)?.innerText||"",p=document.querySelector(`img[id^='hotel_image_${l}']`)?.src||"";if(n.querySelector(`span[id^='hotel_room_type_description_2_${l}`)){let e=document.querySelectorAll("#hotel_two_room_data_input_divs_container input, #hotel_two_room_data_input_divs_container textarea");document.getElementById("hotel_second_room_data_input_div").style.display="flex",e.forEach((e=>{e.dataset.originalWidth||(e.dataset.originalWidth=e.style.width),e.style.width="100%"}));let t=n.querySelector(`span[id^='hotel_room_type_description_2_${l}']`)?.innerText||"",i=n.querySelector(`span[id^='hotel_pool_span_id_2_${l}']`)?.innerText||"",o=n.querySelector(`span[id^='hotel_view_span_id_2_${l}']`)?.innerText||"";storeHotelTotalUnitNumber_2=n.querySelector(`p[id^='hotel_total_unit_2_${l}']`)?.innerText||"";let _=n.querySelector(`span[id^='hotel_breakfast_span_id_2_${l}']`)?.innerText||"",d=n.querySelector(`span[id^='hotel_extra_bed_span_id_2_${l}']`)?.innerText||"",a=n.querySelector(`span[id^='hotel_special_request_span_id_2_${l}']`)?.innerText||"",r=n.querySelector(`span[id^='hotel_extra_info_span_id_2_${l}']`)?.innerText||"";document.getElementById("hotel_room_type_description_input_id_2").value=t,document.getElementById("hotel_room_contain_pool_input_id_2").value=i,document.getElementById("hotel_room_view_input_id_2").value=o,document.getElementById("hotel_unit_amount_input_id_2").value=`عدد الوحدات ${storeHotelTotalUnitNumber_2}`,document.getElementById("hotel_breakfast_people_amount_input_id_2").value=_,document.getElementById("hotel_extra_bed_input_id_2").value=d,document.getElementById("hotel_special_room_request_input_id_2").value=a;let c=r.replace(/^\s*\++\s*/,"");document.getElementById("hotel_room_extra_info_textarea_id_2").value=c}else{let e=document.querySelectorAll("#hotel_two_room_data_input_divs_container input, #hotel_two_room_data_input_divs_container textarea");document.getElementById("hotel_second_room_data_input_div").style.display="none",e.forEach((e=>{e.style.width=e.dataset.originalWidth}))}n.classList.contains("new_hotel_data_by_user_writing_class")&&(document.getElementById("hotel_location_input_id").value=o,document.getElementById("hotel_bali_area_input_id").value=_,document.getElementById("hotel_location_input_id").style.display="block",document.getElementById("hotel_stars_rate_input_id").style.display="block","بالي"===document.getElementById("hotel_location_input_id").value?document.getElementById("hotel_bali_area_input_id").style.display="block":document.getElementById("hotel_bali_area_input_id").style.display="none",document.getElementById("hotel_name_input_id").readOnly=!1,document.getElementById("hotel_room_type_description_input_id").readOnly=!1,document.getElementById("hotel_room_type_description_input_id_2").readOnly=!1,document.getElementById("hotel_name_input_id").style.cursor="text",document.getElementById("hotel_name_input_id").onclick=null,document.getElementById("hotel_room_type_description_input_id").style.cursor="text",document.getElementById("hotel_room_type_description_input_id").onclick=null,document.getElementById("hotel_room_type_description_input_id_2").style.cursor="text",document.getElementById("hotel_room_type_description_input_id_2").onclick=null,document.getElementById("hotel_name_input_id").setAttribute("autocomplete","on"),document.getElementById("hotel_room_type_description_input_id").setAttribute("autocomplete","on"),document.getElementById("hotel_room_type_description_input_id_2").setAttribute("autocomplete","on")),document.getElementById("hotel_name_input_id").value=i,document.getElementById("hotel_check_in_input_id").value=d,document.getElementById("hotel_check_out_input_id").value=a,document.getElementById("hotel_total_nights_input_id").value=`${storeHotelTotalNights} ليالي`,document.getElementById("hotel_room_type_description_input_id").value=r,document.getElementById("hotel_room_contain_pool_input_id").value=c,document.getElementById("hotel_room_view_input_id").value=s,document.getElementById("hotel_unit_amount_input_id").value=`عدد الوحدات ${storeHotelTotalUnitNumber}`,document.getElementById("hotel_breakfast_people_amount_input_id").value=u,document.getElementById("hotel_extra_bed_input_id").value=m,document.getElementById("hotel_special_room_request_input_id").value=g,p.includes("five-stars-hotel-image")?document.getElementById("hotel_stars_rate_input_id").value="5 نجوم":p.includes("four-stars-hotel-image")?document.getElementById("hotel_stars_rate_input_id").value="4 نجوم":p.includes("three-stars-hotel-image")?document.getElementById("hotel_stars_rate_input_id").value="3 نجوم":p.includes("no-stars-hotel-image")&&(document.getElementById("hotel_stars_rate_input_id").value="");let h=y.replace(/^\s*\++\s*/,"");document.getElementById("hotel_room_extra_info_textarea_id").value=h,cancelNewHotelDataRow=function(){let e=document.querySelectorAll(".hotel_row_class_for_editing"),t=e[e.length-1];document.getElementById("hotel_check_in_input_id").value=t.querySelector("h3").innerText,document.getElementById("store_google_sheet_hotel_last_stopped_check_out_date_value").innerText=t.querySelector("h3").innerText,document.getElementById("hotel_name_input_id").value="",document.getElementById("hotel_check_out_input_id").value="",document.getElementById("hotel_total_nights_input_id").value="",document.getElementById("hotel_room_type_description_input_id").value="",document.getElementById("hotel_room_contain_pool_input_id").value="",document.getElementById("hotel_room_view_input_id").value="",document.getElementById("hotel_special_room_request_input_id").value="",document.getElementById("hotel_room_extra_info_textarea_id").value="",document.getElementById("hotel_room_type_description_input_id_2").value="",document.getElementById("hotel_room_contain_pool_input_id_2").value="",document.getElementById("hotel_room_view_input_id_2").value="",document.getElementById("hotel_special_room_request_input_id_2").value="",document.getElementById("hotel_room_extra_info_textarea_id_2").value="",document.getElementById("hotel_inputs_submit_icon").style.display="block",document.getElementById("change_insert_hotel_data_system_icon").style.display="block",document.getElementById("show_or_hide_second_room_inputs_div_icon").style.display="block",document.getElementById("confirm_new_hotel_data_row_icon").style.display="none",document.getElementById("cancel_new_hotel_data_row_icon").style.display="none",document.getElementById("show_or_hide_second_room_inputs_div_icon_2").style.display="none",document.getElementById("change_insert_hotel_data_system_icon_2").style.display="none",document.getElementById("hotel_content_section_title_text_id").innerText="تفاصيل الفندق",document.getElementById("toggle_hotel_data_title_div_id").style.background="rgb(131, 0, 148)",saveOriginalHotelDates(),document.getElementById("hotel_check_in_input_id").disabled=!0,document.getElementById("hotel_location_input_id").style.display="none",document.getElementById("hotel_location_input_id").value="",document.getElementById("hotel_bali_area_input_id").style.display="none",document.getElementById("hotel_bali_area_input_id").value="",document.getElementById("hotel_stars_rate_input_id").style.display="none",document.getElementById("hotel_stars_rate_input_id").value="",document.getElementById("hotel_name_input_id").readOnly=!0,document.getElementById("hotel_room_type_description_input_id").readOnly=!0,document.getElementById("hotel_room_type_description_input_id_2").readOnly=!0,document.getElementById("hotel_name_input_id").setAttribute("autocomplete","off"),document.getElementById("hotel_room_type_description_input_id").setAttribute("autocomplete","off"),document.getElementById("hotel_room_type_description_input_id_2").setAttribute("autocomplete","off"),document.getElementById("hotel_name_input_id").style.cursor="pointer",document.getElementById("hotel_name_input_id").onclick=function(){showOverlay("all_hotel_names_dropdown")},document.getElementById("hotel_room_type_description_input_id").style.cursor="pointer",document.getElementById("hotel_room_type_description_input_id").onclick=function(){createRoomTypeDescripyionDropDown(),showOverlay("hotel_room_type_description_dropdown")},document.getElementById("hotel_room_type_description_input_id_2").style.cursor="pointer",document.getElementById("hotel_room_type_description_input_id_2").onclick=function(){createRoomTypeDescripyionDropDown(),showOverlay("hotel_room_type_description_dropdown")},document.getElementById("change_insert_hotel_data_system_icon").style.background="rgb(0, 87, 116)",document.getElementById("change_insert_hotel_data_system_icon").style.color="white",ensureAllPackageDatesHiddenOrNo()},confirmNewHotelDataRow=function(){let t=document.getElementById(e);t.innerHTML="";let n=document.getElementById("hotel_name_input_id").value,i=document.getElementById("hotel_location_input_id").value,o=document.getElementById("hotel_bali_area_input_id").value,_=document.getElementById("hotel_stars_rate_input_id").value,d=document.getElementById("hotel_check_in_input_id").value,a=document.getElementById("hotel_check_out_input_id").value,r=document.getElementById("hotel_room_type_description_input_id").value,c=document.getElementById("hotel_room_contain_pool_input_id").value,s=document.getElementById("hotel_room_view_input_id").value,u=document.getElementById("hotel_breakfast_people_amount_input_id").value,m=document.getElementById("hotel_extra_bed_input_id").value,g=document.getElementById("hotel_special_room_request_input_id").value,y=document.getElementById("hotel_room_extra_info_textarea_id").value,p=document.getElementById("hotel_room_type_description_input_id_2").value,h=document.getElementById("hotel_room_contain_pool_input_id_2").value,v=document.getElementById("hotel_room_view_input_id_2").value,f=document.getElementById("hotel_unit_amount_input_id_2").value,E=document.getElementById("hotel_breakfast_people_amount_input_id_2").value,b=document.getElementById("hotel_extra_bed_input_id_2").value,w=document.getElementById("hotel_special_room_request_input_id_2").value,k=document.getElementById("hotel_room_extra_info_textarea_id_2").value;if(""===n||""===d||""===a||""===r)return playSoundEffect("error"),confirm_new_hotel_data_row_icon.style.backgroundColor="red",void setTimeout((()=>{confirm_new_hotel_data_row_icon.style.backgroundColor="rgb(0, 87, 116)"}),500);if("flex"===document.getElementById("hotel_second_room_data_input_div").style.display&&(""===p||""===f))return playSoundEffect("error"),confirm_new_hotel_data_row_icon.style.backgroundColor="red",void setTimeout((()=>{confirm_new_hotel_data_row_icon.style.backgroundColor="rgb(0, 87, 116)"}),500);if("none"!==document.getElementById("hotel_location_input_id").style.display){if(""===document.getElementById("hotel_location_input_id").value)return;if("بالي"===document.getElementById("hotel_location_input_id").value&&""===document.getElementById("hotel_bali_area_input_id").value)return playSoundEffect("error"),confirm_new_hotel_data_row_icon.style.backgroundColor="red",void setTimeout((()=>{confirm_new_hotel_data_row_icon.style.backgroundColor="rgb(0, 87, 116)"}),500)}if(playSoundEffect("success"),"none"!==document.getElementById("hotel_location_input_id").style.display){t.classList.contains("new_hotel_data_by_user_writing_class")||t.classList.add("new_hotel_data_by_user_writing_class");let x=null;x="5 نجوم"===_?"five":"4 نجوم"===_?"four":"3 نجوم"===_?"three":"no";let T=`\n                <div><h1 id='hotel_name_${l}'>${n}</h1></div>\n                <div><h2 id='hotel_check_in_${l}' class="hotel_check_in_date_for_matching_whole_package_date">${d}</h2></div>\n                <div><h3 style="color: red" id='hotel_check_out_${l}' class="hotel_check_out_date_for_matching_whole_package_date">${a}</h3></div>\n                <div><h4 id='hotel_total_nights_${l}'>${storeHotelTotalNights}</h4></div>\n                <div class="description_cell">\n                    <span id='hotel_room_type_description_${l}'>${r}</span></div>\n                <div>\n                    <p id='hotel_total_unit_${l}'>${storeHotelTotalUnitNumber}</p>\n                    ${f&&"none"!==document.getElementById("hotel_second_room_data_input_div").style.display?`<p style="width: 100%; background: rgb(5, 17, 21); color: white">+ </p><p id="hotel_total_unit_2_${l}" style="width: 100%; background: rgb(5, 17, 21); color: white">${storeHotelTotalUnitNumber_2}</p>`:""}\n                </div>\n                <div>\n                    <h5 id='hotel_location_${l}'>${i}</h5>\n                    ${o?`<br><h6 id='hotel_area_${l}'>${o}</h6>`:""}\n                    <img src="صور-الفنادق/${x}-stars-hotel-image.jpg" id='hotel_image_${l}' class="hotel_row_image_controller inserted_hotel_data_row" style="cursor: pointer">\n                </div>\n            `;if(t.innerHTML=T,""!==c){let D=document.createElement("span");D.id=`hotel_pool_span_id_${l}`,D.innerText=c,t.querySelector(".description_cell").appendChild(D)}if(""!==s){let q=document.createElement("span");q.id=`hotel_view_span_id_${l}`,q.innerText=s,t.querySelector(".description_cell").appendChild(q)}if(""!==u){let $=document.createElement("span");$.id=`hotel_breakfast_span_id_${l}`,$.innerText=u,t.querySelector(".description_cell").appendChild($)}if(""!==m){let S=document.createElement("span");S.id=`hotel_extra_bed_span_id_${l}`,S.className="hotel_special_request_span_class",S.innerText=m,S.style.width="100%",S.style.background="rgb(85, 127, 137)",S.style.color="white",S.style.padding="0 5px",t.querySelector(".description_cell").appendChild(S)}if(""!==g){let A=document.createElement("span");A.id=`hotel_special_request_span_id_${l}`,A.className="hotel_special_request_span_class",A.innerText=g,A.style.background="rgb(85, 127, 137)",A.style.color="white",A.style.padding="0 5px",t.querySelector(".description_cell").appendChild(A)}if(""!==y){let M=y.replace(/^\s*\++\s*/,""),N=document.createElement("span");N.id=`hotel_extra_info_span_id_${l}`,N.innerText=`+ ${M}`,N.style.width="100%",N.style.background="rgb(85, 127, 137)",N.style.color="white",N.style.padding="0 5px",t.querySelector(".description_cell").appendChild(N)}if("none"!==document.getElementById("hotel_second_room_data_input_div").style.display){if(""!==p){let F=document.createElement("span");F.id=`hotel_room_type_description_2_${l}`,F.innerText=p,F.style.width="100%",F.style.background="rgb(5, 17, 21)",F.style.color="white";let H=document.createElement("span");H.innerText="+ ",H.style.width="100%",H.style.background="rgb(5, 17, 21)",H.style.color="white",t.querySelector(".description_cell").appendChild(H),t.querySelector(".description_cell").appendChild(F)}if(""!==h){let P=document.createElement("span");P.id=`hotel_pool_span_id_2_${l}`,P.innerText=h,P.style.width="100%",P.style.background="rgb(5, 17, 21)",P.style.color="white",t.querySelector(".description_cell").appendChild(P)}if(""!==v){let R=document.createElement("span");R.id=`hotel_view_span_id_2_${l}`,R.style.width="100%",R.innerText=v,R.style.background="rgb(5, 17, 21)",R.style.color="white",t.querySelector(".description_cell").appendChild(R)}if(""!==E){let L=document.createElement("span");L.id=`hotel_breakfast_span_id_2_${l}`,L.innerText=E,L.style.width="100%",L.style.background="rgb(5, 17, 21)",L.style.color="white",t.querySelector(".description_cell").appendChild(L)}if(""!==b){let U=document.createElement("span");U.id=`hotel_extra_bed_span_id_2_${l}`,U.className="hotel_special_request_span_class",U.innerText=b,U.style.width="100%",U.style.background="rgb(5, 17, 21)",U.style.color="white",U.style.padding="0 5px",t.querySelector(".description_cell").appendChild(U)}if(""!==w){let O=document.createElement("span");O.id=`hotel_special_request_span_id_2_${l}`,O.className="hotel_special_request_span_class",O.innerText=w,O.style.width="100%",O.style.background="rgb(5, 17, 21)",O.style.color="white",O.style.padding="0 5px",t.querySelector(".description_cell").appendChild(O)}if(""!==k){let j=k.replace(/^\s*\++\s*/,""),V=document.createElement("span");V.id=`hotel_extra_info_span_id_2_${l}`,V.innerText=`+ ${j}`,V.style.width="100%",V.style.background="rgb(5, 17, 21)",V.style.color="white",V.style.padding="0 5px",t.querySelector(".description_cell").appendChild(V)}}document.querySelectorAll(".hotel_row_image_controller").forEach((e=>{handleClickEvent(e)}))}else{t.classList.contains("new_hotel_data_by_user_writing_class")&&t.classList.remove("new_hotel_data_by_user_writing_class");let W=n.toLowerCase().replace(/\s+/g,"-"),Y="",K="";for(let J of allHotelDataArray)if(J.hotelName===n){Y=J.hotelLocation,J.hasOwnProperty("hotelArea")&&(K=J.hotelArea);break}let G=`\n                <div><h1 id='hotel_name_${l}'>${n}</h1></div>\n                <div><h2 id='hotel_check_in_${l}' class="hotel_check_in_date_for_matching_whole_package_date">${d}</h2></div>\n                <div><h3 style="color: red" id='hotel_check_out_${l}' class="hotel_check_out_date_for_matching_whole_package_date">${a}</h3></div>\n                <div><h4 id='hotel_total_nights_${l}'>${storeHotelTotalNights}</h4></div>\n                <div class="description_cell">\n                    <span id='hotel_room_type_description_${l}'>${r}</span></div>\n                <div>\n                    <p id='hotel_total_unit_${l}'>${storeHotelTotalUnitNumber}</p>\n                    ${f&&"none"!==document.getElementById("hotel_second_room_data_input_div").style.display?`<p style="width: 100%; background: rgb(5, 17, 21); color: white">+ </p><p id="hotel_total_unit_2_${l}" style="width: 100%; background: rgb(5, 17, 21); color: white">${storeHotelTotalUnitNumber_2}</p>`:""}\n                </div>\n                <div>\n                    <h5 id='hotel_location_${l}'>${Y}</h5>\n                    ${K?`<br><h6 id='hotel_area_${l}'>${K}</h6>`:""}\n                    <img src="صور-الفنادق/${W}.jpg" class="hotel_row_image_controller inserted_hotel_data_row" style="cursor: pointer">\n                </div>\n            `;if(t.innerHTML=G,""!==c){let X=document.createElement("span");X.id=`hotel_pool_span_id_${l}`,X.innerText=c,t.querySelector(".description_cell").appendChild(X)}if(""!==s){let z=document.createElement("span");z.id=`hotel_view_span_id_${l}`,z.innerText=s,t.querySelector(".description_cell").appendChild(z)}if(""!==u){let Q=document.createElement("span");Q.id=`hotel_breakfast_span_id_${l}`,Q.innerText=u,t.querySelector(".description_cell").appendChild(Q)}if(""!==m){let Z=document.createElement("span");Z.id=`hotel_extra_bed_span_id_${l}`,Z.className="hotel_special_request_span_class",Z.innerText=m,Z.style.width="100%",Z.style.background="rgb(85, 127, 137)",Z.style.color="white",Z.style.padding="0 5px",t.querySelector(".description_cell").appendChild(Z)}if(""!==g){let ee=document.createElement("span");ee.id=`hotel_special_request_span_id_${l}`,ee.className="hotel_special_request_span_class",ee.innerText=g,ee.style.background="rgb(85, 127, 137)",ee.style.color="white",ee.style.padding="0 5px",t.querySelector(".description_cell").appendChild(ee)}if(""!==y){let te=y.replace(/^\s*\++\s*/,""),ne=document.createElement("span");ne.id=`hotel_extra_info_span_id_${l}`,ne.innerText=`+ ${te}`,ne.style.width="100%",ne.style.background="rgb(85, 127, 137)",ne.style.color="white",ne.style.padding="0 5px",t.querySelector(".description_cell").appendChild(ne)}if("none"!==document.getElementById("hotel_second_room_data_input_div").style.display){if(""!==p){let le=document.createElement("span");le.id=`hotel_room_type_description_2_${l}`,le.innerText=p,le.style.width="100%",le.style.background="rgb(5, 17, 21)",le.style.color="white";let ie=document.createElement("span");ie.innerText="+ ",ie.style.width="100%",ie.style.background="rgb(5, 17, 21)",ie.style.color="white",t.querySelector(".description_cell").appendChild(ie),t.querySelector(".description_cell").appendChild(le)}if(""!==h){let oe=document.createElement("span");oe.id=`hotel_pool_span_id_2_${l}`,oe.innerText=h,oe.style.width="100%",oe.style.background="rgb(5, 17, 21)",oe.style.color="white",t.querySelector(".description_cell").appendChild(oe)}if(""!==v){let _e=document.createElement("span");_e.id=`hotel_view_span_id_2_${l}`,_e.style.width="100%",_e.innerText=v,_e.style.background="rgb(5, 17, 21)",_e.style.color="white",t.querySelector(".description_cell").appendChild(_e)}if(""!==E){let de=document.createElement("span");de.id=`hotel_breakfast_span_id_2_${l}`,de.innerText=E,de.style.width="100%",de.style.background="rgb(5, 17, 21)",de.style.color="white",t.querySelector(".description_cell").appendChild(de)}if(""!==b){let ae=document.createElement("span");ae.id=`hotel_extra_bed_span_id_2_${l}`,ae.className="hotel_special_request_span_class",ae.innerText=b,ae.style.width="100%",ae.style.background="rgb(5, 17, 21)",ae.style.color="white",ae.style.padding="0 5px",t.querySelector(".description_cell").appendChild(ae)}if(""!==w){let re=document.createElement("span");re.id=`hotel_special_request_span_id_2_${l}`,re.className="hotel_special_request_span_class",re.innerText=w,re.style.width="100%",re.style.background="rgb(5, 17, 21)",re.style.color="white",re.style.padding="0 5px",t.querySelector(".description_cell").appendChild(re)}if(""!==k){let ce=k.replace(/^\s*\++\s*/,""),se=document.createElement("span");se.id=`hotel_extra_info_span_id_2_${l}`,se.innerText=`+ ${ce}`,se.style.width="100%",se.style.background="rgb(5, 17, 21)",se.style.color="white",se.style.padding="0 5px",t.querySelector(".description_cell").appendChild(se)}}document.querySelectorAll(".hotel_row_image_controller").forEach((e=>{handleClickEvent(e)}))}if("none"!==document.getElementById("downloaded_pdf_flight_data_page").style.display){document.getElementById("inserted_flight_data_position_div").innerHTML="",insertedFlightDataDivUniqueId=""!==document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText?document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText:1;let ue=document.querySelectorAll(".hotel_row_class_for_editing"),me=null,ge=null,ye=["بالي","جاكرتا","باندونق","بونشاك","لومبوك"],pe=document.getElementById("adult_package_person_amount_input_id").value,he=document.getElementById("kids_package_person_amount_input_id").value,ve=document.getElementById("infant_package_person_amount_input_id").value;function I(e){let t=e.match(/\d+/);return t?parseInt(t[0]):0}let fe=I(pe)+I(he);ue.forEach(((e,t)=>{let n=e.querySelector("h5").innerText,l=e.querySelector("h2").innerText;if("جاكرتا"===me&&"باندونق"===n||"باندونق"===me&&"جاكرتا"===n)return me=n,void(ge=l);if("جاكرتا"===me&&"بونشاك"===n)return me=n,void(ge=l);if("بونشاك"===me&&"جاكرتا"===n)return me=n,void(ge=l);if(ye.includes(n)&&me&&me!==n&&ye.includes(me)||"بونشاك"===me&&"بالي"===n||"بالي"===me&&"بونشاك"===n){let e=me,t=n;if("بونشاك"===me&&"بالي"===n||"باندونق"===me&&"بالي"===n?(e="جاكرتا",t="بالي"):("بالي"===me&&"بونشاك"===n||"بالي"===me&&"باندونق"===n)&&(e="بالي",t="جاكرتا"),"باندونق"===me&&"بونشاك"===n||"بونشاك"===me&&"باندونق"===n)return me=n,void(ge=l);let i=document.createElement("div");i.id=`flight_row_id_${insertedFlightDataDivUniqueId}`,i.className="flight_row_class flight_row_class_for_editing";let o=`\n                    <div class="flight_row_flight_arrival_time_controller inserted_flight_data_row" style="cursor: pointer;"><p id='flight_air_line_${insertedFlightDataDivUniqueId}'></p></div>\n                    <div><p id="flight_adult_person_amount_${insertedFlightDataDivUniqueId}">\n                            ${1===fe?`${fe} بالغ`:0!==fe?`${fe} بالغين`:""}\n                        </p>\n                        ${ve?`<p id="flight_infant_person_amount_${insertedFlightDataDivUniqueId}">${ve}</p>`:""}</div>\n                    </div>\n                    <div><p>20Kg للشخص</p></div>\n                    <div><h2 id='flight_from_city_${insertedFlightDataDivUniqueId}'>${e}</h2></div>\n                    <div><h3 id='flight_to_city_${insertedFlightDataDivUniqueId}'>${t}</h3></div>\n                    <div><h1 id='flight_date_${insertedFlightDataDivUniqueId}' class="flight_date_for_matching_whole_package_date">${l}</h1></div>\n                    <div><p id='flight_fly_away_time_${insertedFlightDataDivUniqueId}'></p></div>\n                    <div><p id='flight_arrival_time_${insertedFlightDataDivUniqueId}'></p></div>\n                `;i.innerHTML=o,document.getElementById("inserted_flight_data_position_div").appendChild(i),insertedFlightDataDivUniqueId++}me=n,ge=l})),document.getElementsByClassName("flight_row_class_for_editing").length>0?(playSoundEffect("success"),clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 255, 0)",setTimeout((()=>{clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),document.getElementById("downloaded_pdf_flight_data_page").style.display="block",document.getElementById("manually_add_flight_row_icon").style.display="none",ensureAllPackageDatesHiddenOrNo()):(playSoundEffect("error"),clint_flight_inputs_submit_icon.style.backgroundColor="red",setTimeout((()=>{clint_flight_inputs_submit_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),document.getElementById("downloaded_pdf_flight_data_page").style.display="none"),document.getElementById("flight_from_city_input_id").value=document.getElementById("flight_to_city_input_id").value,document.getElementById("flight_to_city_input_id").value="",document.getElementById("flight_date_input_id").value="",document.getElementById("flight_fly_away_time_input_id").value="",document.getElementById("flight_arrival_time_input_id").value="",document.querySelectorAll(".flight_row_flight_arrival_time_controller").forEach((function(e){e.onclick=function(t){flightRowAirLineControllerFunction(t,e)}})),document.getElementById("store_google_sheet_flight_uniuqe_id_name_value").innerText=insertedFlightDataDivUniqueId}if("none"!==document.getElementById("downloaded_pdf_clint_movements_data_page").style.display){function B(e,t){let[n,l]=e.split(" "),i={"يناير":0,"فبراير":1,"مارس":2,"أبريل":3,"مايو":4,"يونيو":5,"يوليو":6,"أغسطس":7,"سبتمبر":8,"أكتوبر":9,"نوفمبر":10,"ديسمبر":11},o=Object.keys(i),_=new Date;return _.setDate(parseInt(n)),_.setMonth(i[l]),_.setDate(_.getDate()+t),`${_.getDate()} ${o[_.getMonth()]}`}function C(e){return e.replace(/\+\s*\+/g," + ").trim()}document.getElementById("inserted_clint_movements_data_position_div").innerHTML="";let Ee=document.getElementById("include_airport_welcome__checkbox").checked,be=document.querySelectorAll(".hotel_row_class_for_editing"),we=be.length,ke={baliUbudKeramas:{},baliOthers:{},jakarta:{},puncak:{},bandung:{},lombok:{}},Ie="",Be="",Ce=!1,xe=!1,Te=!1,De=!1,qe=be[0].querySelector("h5").innerText,$e=be[we-1].querySelector("h5").innerText,Se="";be.forEach(((e,t)=>{let n,l,i=e.querySelector("h1").innerText,o=e.querySelector("h2").innerText,_=parseInt(e.querySelector("h4").innerText,10),d=e.querySelector("h5").innerText,a="بالي"===d?e.querySelector("h6").innerText:null,r={"بكج شهر عسل":"honeymoon","بكج شباب":"guys","بكج عائلة":"family","بكج شخصين":"twopeople","بكج قروب":"family","بكج جديد":"family"}[document.getElementById("clint_package_type_h6").innerText.trim()]||"family";"بالي"===d&&a?"اوبود"===a||"كيراماس"===a?(n=allClintVisitingPlacesArray[1][r],l=ke.baliUbudKeramas):["كوتا","نوسا دوا","سيمنياك","جيمباران","اولواتو","ليجين","سانورا","بيانجان"].includes(a)&&(n=allClintVisitingPlacesArray[0][r],l=ke.baliOthers):"جاكرتا"===d?(n=allClintVisitingPlacesArray[2][r],l=ke.jakarta):"بونشاك"===d?(n=allClintVisitingPlacesArray[3][r],l=ke.puncak):"باندونق"===d?(n=allClintVisitingPlacesArray[4][r],l=ke.bandung):"لومبوك"===d&&(n=allClintVisitingPlacesArray[5][r],l=ke.lombok),ke[d]||(ke[d]={});let c=!1,s=0;for(let e=0;e<_;e++){let a=document.createElement("div");a.className="clint_movements_row_class clint_movements_row_class_for_editing";let r=B(o,e),u="";if(n){for(;l[s]&&n["visitingPlaceNamesDay"+(s-1)];)s++;if(n["visitingPlaceNamesDay"+(s-1)]){let e=n["visitingPlaceNamesDay"+(s-1)];l[s]=!0,e&&e.length>0&&(u=`${e.join(" + ")} `),s++}}let m=0===e?`تسجيل الدخول في ${i}`:"",g=d;if(0===e&&t>0){Ie=be[t-1].querySelector("h5").innerText,Be=be[t-1].querySelector("h1").innerText,d!==Ie&&(g=`${Ie}-${d}`,Se=g);let e="";!Ee||"بالي"!==d&&"جاكرتا"!==d||d===Ie||"بونشاك"===Ie&&"جاكرتا"===d||"باندونق"===Ie&&"جاكرتا"===d||(e=`الإستقبال في مطار ${d} + `),c||(m=`تسجيل الخروج من ${Be} `,Ie!==d&&(m+=`+ الذهاب الى ${d} `),m+=`+ ${e}${u} + تسجيل الدخول في ${i}`,c=!0)}if("بالي"!==d&&"جاكرتا"!==d||xe||(m=m.replace(`تسجيل الدخول في ${i}`,`تسجيل الدخول في ${i} + التجول في السنتر`),xe=!0),Ce||"بالي"!==d&&"جاكرتا"!==d||!Ee||(m=`الإستقبال في مطار ${d} + ${m}`,Ce=!0),Ce||0!==t||!Ee||"بونشاك"!==qe&&"باندونق"!==qe||(m=`الإستقبال في مطار جاكرتا + الذهاب الى ${d} + تسجيل الدخول في ${i}`,Ce=!0),m=C(m),a.innerHTML=`\n                        <div><h1>${r}</h1></div>\n                        <div><h2>${m}</h2></div>\n                        <div class="clint_movements_row_controller" style="cursor: pointer;"><h3>${0===e?g:d}</h3></div>\n                    `,!Te&&"جاكرتا"===d&&0===e&&0!==t){let e=a.querySelector("h2");e.innerText+=" + الذهاب لمطعم السدة للعشاء",e.innerText=C(e.innerText),Te=!0}if(n&&0===e){let e=1;for(;l[e]&&n["visitingPlaceNamesDay"+(e-1)];)e++;if(n["visitingPlaceNamesDay"+(e-1)]){let t=n["visitingPlaceNamesDay"+(e-1)];l[e]=!0,t&&t.length>0&&(u=`${t.join(" + ")} `)}}if(n){let t=e+1;for(;l[t]&&n["visitingPlaceNamesDay"+(t-1)];)t++;if(n["visitingPlaceNamesDay"+(t-1)]){let e=n["visitingPlaceNamesDay"+(t-1)];l[t]=!0,e&&e.length>0&&(u=`${e.join(" + ")} `)}}if(u&&(a.querySelector("h2").innerText+=`${u}`),document.getElementById("inserted_clint_movements_data_position_div").appendChild(a),t===we-1&&e===_-1)if(De){a.querySelector("h3").innerText=$e}else De=!0}if(t===we-1){let e=B(o,_),t=document.createElement("div");t.className="clint_movements_row_class clint_movements_row_class_for_editing",t.innerHTML=`\n                <div><h1>${e}</h1></div>\n                <div><h2>تسجيل الخروج من ${i} والتحرك للمطار للمغادرة</h2></div>\n                <div class="clint_movements_row_controller" style="cursor: pointer;"><h3>${d}-مغادرة</h3></div>\n            `,document.getElementById("inserted_clint_movements_data_position_div").appendChild(t)}})),document.getElementById("downloaded_pdf_clint_movements_data_page").style.display="block",filterUsedClintVisitingPlacesNames(),document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{e.querySelectorAll(".clint_movements_row_controller").forEach((function(e){e.onclick=function(t){clintMovementsRowCityNameControllerFunction(t,e)}}))})),ensureAllPackageDatesHiddenOrNo(),highlightWeekendClintMovements()}cancelNewHotelDataRow()}},duplicateClickedHotelDataFunctio=function(){let e=document.getElementById(currentHotelDataDivId),t=e.cloneNode(!0),n=currentHotelDataDivId+"_copy_"+(new Date).getTime();t.id=n,e.parentNode.insertBefore(t,e.nextSibling);let l=document.querySelector(".black_overlay");document.getElementById("ensure_delete_or_edit_hotel_data_div").style.transform="translate(-50%, -130vh)",l.style.opacity="0",setTimeout((()=>{document.body.removeChild(l)}),300),saveOriginalHotelDates(),document.querySelectorAll(".hotel_row_image_controller").forEach((e=>{handleClickEvent(e)})),createHotelDragAndDropMood()},autoCreateALlClintMovementsData=function(){if("none"===document.getElementById("downloaded_pdf_clint_data_page").style.display||"none"===document.getElementById("downloaded_pdf_hotel_data_page").style.display)playSoundEffect("error"),clint_movements_auto_create_icon.style.backgroundColor="red",setTimeout((()=>{clint_movements_auto_create_icon.style.backgroundColor="rgb(0, 87, 116)"}),500);else{function e(e,t){let[n,l]=e.split(" "),i={"يناير":0,"فبراير":1,"مارس":2,"أبريل":3,"مايو":4,"يونيو":5,"يوليو":6,"أغسطس":7,"سبتمبر":8,"أكتوبر":9,"نوفمبر":10,"ديسمبر":11},o=Object.keys(i),_=(new Date).getFullYear(),d=new Date(_,i[l],parseInt(n));return d.setDate(d.getDate()+t),`${d.getDate()} ${o[d.getMonth()]}`}function t(e){return e.replace(/\+\s*\+/g," + ").trim()}playSoundEffect("success"),clint_movements_auto_create_icon.style.backgroundColor="rgb(0, 255, 0)",setTimeout((()=>{clint_movements_auto_create_icon.style.backgroundColor="rgb(0, 87, 116)"}),500),document.getElementById("inserted_clint_movements_data_position_div").innerHTML="";let n=document.getElementById("include_airport_welcome__checkbox").checked,l=document.querySelectorAll(".hotel_row_class_for_editing"),i=l.length,o={baliUbudKeramas:{},baliOthers:{},jakarta:{},puncak:{},bandung:{},lombok:{}},_="",d="",a=!1,r=!1,c=!1,s=!1,u=l[0].querySelector("h5").innerText,m=l[i-1].querySelector("h5").innerText,g="";l.forEach(((y,p)=>{let h,v,f=y.querySelector("h1").innerText,E=y.querySelector("h2").innerText,b=parseInt(y.querySelector("h4").innerText,10),w=y.querySelector("h5").innerText,k="بالي"===w?y.querySelector("h6").innerText:null,I={"بكج شهر عسل":"honeymoon","بكج شباب":"guys","بكج عائلة":"family","بكج شخصين":"twopeople","بكج قروب":"family","بكج جديد":"family"}[document.getElementById("clint_package_type_h6").innerText.trim()]||"family";"بالي"===w&&k?"اوبود"===k||"كيراماس"===k?(h=allClintVisitingPlacesArray[1][I],v=o.baliUbudKeramas):["كوتا","نوسا دوا","سيمنياك","جيمباران","اولواتو","ليجين","سانورا","بيانجان"].includes(k)&&(h=allClintVisitingPlacesArray[0][I],v=o.baliOthers):"جاكرتا"===w?(h=allClintVisitingPlacesArray[2][I],v=o.jakarta):"بونشاك"===w?(h=allClintVisitingPlacesArray[3][I],v=o.puncak):"باندونق"===w?(h=allClintVisitingPlacesArray[4][I],v=o.bandung):"لومبوك"===w&&(h=allClintVisitingPlacesArray[5][I],v=o.lombok),o[w]||(o[w]={});let B=!1,C=0;for(let o=0;o<b;o++){let y=document.createElement("div");y.className="clint_movements_row_class clint_movements_row_class_for_editing";let k=e(E,o),I="";if(h){for(;v[C]&&h["visitingPlaceNamesDay"+(C-1)];)C++;if(h["visitingPlaceNamesDay"+(C-1)]){let e=h["visitingPlaceNamesDay"+(C-1)];v[C]=!0,e&&e.length>0&&(I=`${e.join(" + ")} `),C++}}let x=0===o?`تسجيل الدخول في ${f}`:"",T=w;if(0===o&&p>0){_=l[p-1].querySelector("h5").innerText,d=l[p-1].querySelector("h1").innerText,w!==_&&(T=`${_}-${w}`,g=T);let e="";!n||"بالي"!==w&&"جاكرتا"!==w||w===_||"بونشاك"===_&&"جاكرتا"===w||"باندونق"===_&&"جاكرتا"===w||(e=`الإستقبال في مطار ${w} + `),B||(x=`تسجيل الخروج من ${d} `,_!==w&&(x+=`+ الذهاب الى ${w} `),x+=`+ ${e}${I} + تسجيل الدخول في ${f}`,B=!0)}if("بالي"!==w&&"جاكرتا"!==w||r||(x=x.replace(`تسجيل الدخول في ${f}`,`تسجيل الدخول في ${f} + التجول في السنتر`),r=!0),a||"بالي"!==w&&"جاكرتا"!==w||!n||(x=`الإستقبال في مطار ${w} + ${x}`,a=!0),a||0!==p||!n||"بونشاك"!==u&&"باندونق"!==u||(x=`الإستقبال في مطار جاكرتا + الذهاب الى ${w} + تسجيل الدخول في ${f}`,a=!0),x=t(x),y.innerHTML=`\n                    <div><h1>${k}</h1></div>\n                    <div><h2>${x}</h2></div>\n                    <div class="clint_movements_row_controller" style="cursor: pointer;"><h3>${0===o?T:w}</h3></div>\n                `,!c&&"جاكرتا"===w&&0===o&&0!==p){let e=y.querySelector("h2");e.innerText+=" + الذهاب لمطعم السدة للعشاء",e.innerText=t(e.innerText),c=!0}if(h&&0===o){let e=1;for(;v[e]&&h["visitingPlaceNamesDay"+(e-1)];)e++;if(h["visitingPlaceNamesDay"+(e-1)]){let t=h["visitingPlaceNamesDay"+(e-1)];v[e]=!0,t&&t.length>0&&(I=`${t.join(" + ")} `)}}if(h){let e=o+1;for(;v[e]&&h["visitingPlaceNamesDay"+(e-1)];)e++;if(h["visitingPlaceNamesDay"+(e-1)]){let t=h["visitingPlaceNamesDay"+(e-1)];v[e]=!0,t&&t.length>0&&(I=`${t.join(" + ")} `)}}if(I&&(y.querySelector("h2").innerText+=`${I}`),document.getElementById("inserted_clint_movements_data_position_div").appendChild(y),p===i-1&&o===b-1)if(s){y.querySelector("h3").innerText=m}else s=!0}if(p===i-1){let t=e(E,b),n=document.createElement("div");n.className="clint_movements_row_class clint_movements_row_class_for_editing",n.innerHTML=`\n                    <div><h1>${t}</h1></div>\n                    <div><h2>تسجيل الخروج من ${f} والتحرك للمطار للمغادرة</h2></div>\n                    <div class="clint_movements_row_controller" style="cursor: pointer;"><h3>${w}-مغادرة</h3></div>\n                `,document.getElementById("inserted_clint_movements_data_position_div").appendChild(n)}})),document.getElementById("downloaded_pdf_clint_movements_data_page").style.display="block",filterUsedClintVisitingPlacesNames(),document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{e.querySelectorAll(".clint_movements_row_controller").forEach((function(e){e.onclick=function(t){clintMovementsRowCityNameControllerFunction(t,e)}}))})),ensureAllPackageDatesHiddenOrNo(),highlightWeekendClintMovements()}},deleteClickedClintMovementsData=function(e){let t=document.querySelectorAll(".clint_movements_row_class_for_editing");if(t.length>0){let n=Array.from(t).indexOf(e);0===n||n===t.length-1?(playSoundEffect("success"),e.remove()):playSoundEffect("error");let l=document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div"),i=document.querySelector(".black_overlay");l.style.transform="translate(-50%, -130vh)",i.style.opacity="0",setTimeout((()=>{document.body.contains(i)&&document.body.removeChild(i)}),300),document.getElementById("clint_movements_whole_day_actions_details_textarea_id").value="",document.getElementById("clint_movements_current_city_name_input_id").value="",document.getElementById("clint_movements_auto_create_icon").style.display="block",document.getElementById("confirm_new_clint_movements_data_row_icon").style.display="none",document.getElementById("cancel_new_clint_movements_data_row_icon").style.display="none",document.getElementById("clint_movements_content_section_title_text_id").innerText="برنامج تحركات مقترح",document.getElementById("toggle_clint_movements_details_title_div_id").style.background="rgb(131, 0, 148)",filterUsedClintVisitingPlacesNames(),t.forEach(((e,t)=>{let n=e.querySelector("h4");n&&(n.innerText=(t+1).toString())})),highlightWeekendClintMovements(),0===document.querySelectorAll(".clint_movements_row_class_for_editing").length&&(document.getElementById("downloaded_pdf_clint_movements_data_page").style.display="none")}},editClickedClintMovementsData=function(e){create_new_clint_data_section.style.display="none",create_new_hotel_package_section.style.display="none",create_new_flight_package_section.style.display="none",create_new_package_including_and_not_including_data_section.style.display="none",create_new_clint_movements_plan_section.style.display="block",document.getElementById("clint_movements_auto_create_icon").style.display="none",document.getElementById("confirm_new_clint_movements_data_row_icon").style.display="block",document.getElementById("cancel_new_clint_movements_data_row_icon").style.display="block",document.getElementById("clint_movements_content_section_title_text_id").innerText=`تعديل خط سير يوم ${e.querySelector("h1").innerText}`,document.getElementById("toggle_clint_movements_details_title_div_id").style.background="rgb(85, 127, 137)",document.getElementById("toggle_clint_movements_details_title_div_id").scrollIntoView({block:"center",inline:"center",behavior:"smooth"}),document.getElementById("whole_package_start_date_input_id").disabled=!0,document.getElementById("whole_package_end_date_input_id").disabled=!0;let t=document.querySelector(".black_overlay");document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div").style.transform="translate(-50%, -130vh)",t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),300),document.getElementById("clint_movements_whole_day_actions_details_textarea_id").value=e.querySelector("h2").innerText,document.getElementById("clint_movements_current_city_name_input_id").value=e.querySelector("h3").innerText,filterUsedClintVisitingPlacesNames(),cancelNewClintMovementsDataRow=function(){document.getElementById("clint_movements_whole_day_actions_details_textarea_id").value="",document.getElementById("clint_movements_current_city_name_input_id").value="",document.getElementById("clint_movements_auto_create_icon").style.display="block",document.getElementById("confirm_new_clint_movements_data_row_icon").style.display="none",document.getElementById("cancel_new_clint_movements_data_row_icon").style.display="none",document.getElementById("clint_movements_content_section_title_text_id").innerText="برنامج تحركات مقترح",document.getElementById("toggle_clint_movements_details_title_div_id").style.background="rgb(131, 0, 148)",document.getElementById("whole_package_start_date_input_id").disabled=!1,document.getElementById("whole_package_end_date_input_id").disabled=!1,filterUsedClintVisitingPlacesNames();let e=document.querySelectorAll(".clint_movements_row_class_for_editing");e.length>0&&e.forEach(((e,t)=>{let n=e.querySelector("h4");n&&(n.innerText=(t+1).toString())}))},confirmNewClintMovementsDataRow=function(){e.querySelector("h2").innerText=document.getElementById("clint_movements_whole_day_actions_details_textarea_id").value,e.querySelector("h3").innerText=document.getElementById("clint_movements_current_city_name_input_id").value,document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{e.querySelectorAll(".clint_movements_row_controller").forEach((function(e){e.onclick=function(t){clintMovementsRowCityNameControllerFunction(t,e)}}))})),cancelNewClintMovementsDataRow()}},clintMovementsRowCityNameControllerFunction=function(e){let t=document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div"),n=e.target.closest(".clint_movements_row_class");if(n){currentClintMovementsDataDiv=n,runDeleteClickedClintMovementsDataFunction=function(){deleteClickedClintMovementsData(currentClintMovementsDataDiv)},runEditClickedClintMovementsDataFunction=function(){editClickedClintMovementsData(currentClintMovementsDataDiv),document.getElementById("header_navbar_links_clint_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_hotel_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_flight_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_package_icluding_and_not_including_a").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("header_navbar_links_clint_movements_a").style.backgroundColor="rgb(0, 46, 57)"},copyAndReplaceClintMovementsRowTableDivFunction=function(e){"copy"===e?runCopyClickedClintMovementH2TextFunction(currentClintMovementsDataDiv):runReplaceClickedClintMovementH2TextFunction(currentClintMovementsDataDiv)},splitAndPlaceClintMovementsRowTableDivFunction=function(e){"split"===e?runSplitAndPlaceClintMovementsRowTableDivFunction(currentClintMovementsDataDiv):runPlaceClintMovementsRowTableDivFunction(currentClintMovementsDataDiv)},addFreeTransportationDayWithouDriverFunction=function(){runAddFreeTransportationDayWithouDriverFunction(currentClintMovementsDataDiv)};let e=document.querySelector(".black_overlay");if(!e){e=document.createElement("div"),e.classList.add("black_overlay"),document.body.appendChild(e),setTimeout((()=>{e.style.opacity="1",t.style.transform="translate(-50%, -50%)"}),50);let n=()=>{t.style.transform="translate(-50%, -130vh)",e.style.opacity="0",setTimeout((()=>{document.body.contains(e)&&document.body.removeChild(e)}),300)};e.addEventListener("click",n),e.addEventListener("click",(e=>{e.stopPropagation()}))}}};let lastCopiedClintMovementRowDiv=null,lastCopiedClintMovementH2Text=null,lastClickedClintMovementRowDiv_for_replacing=null,lastClickedClintMovementH2Text_for_replacing=null;runCopyClickedClintMovementH2TextFunction=function(e){if(null!==lastCopiedClintMovementRowDiv){let e=lastCopiedClintMovementRowDiv.querySelectorAll("div")[0],t=lastCopiedClintMovementRowDiv.querySelectorAll("div")[1],n=lastCopiedClintMovementRowDiv.querySelectorAll("div")[2];e.style.backgroundColor="white",e.style.color="black",t.style.backgroundColor="white",t.style.color="black",n.style.backgroundColor="white",n.style.color="black"}lastCopiedClintMovementRowDiv=e,lastCopiedClintMovementH2Text=e.querySelector("h2").innerText;let t=document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div"),n=document.querySelector(".black_overlay");t.style.transform="translate(-50%, -130vh)",n.style.opacity="0",setTimeout((()=>{document.body.contains(n)&&document.body.removeChild(n)}),300);let l=lastCopiedClintMovementRowDiv.querySelectorAll("div")[0],i=lastCopiedClintMovementRowDiv.querySelectorAll("div")[1],o=lastCopiedClintMovementRowDiv.querySelectorAll("div")[2];l.style.backgroundColor="rgb(0, 93, 119)",l.style.color="white",i.style.backgroundColor="rgb(0, 93, 119)",i.style.color="white",o.style.backgroundColor="rgb(0, 93, 119)",o.style.color="white",setTimeout((()=>{highlightWeekendClintMovements()}),500)},runReplaceClickedClintMovementH2TextFunction=function(e){if(lastClickedClintMovementRowDiv_for_replacing=e,lastClickedClintMovementH2Text_for_replacing=e.querySelector("h2").innerText,null!==lastCopiedClintMovementRowDiv){playSoundEffect("success"),lastCopiedClintMovementRowDiv.querySelector("h2").innerText=lastClickedClintMovementH2Text_for_replacing,lastClickedClintMovementRowDiv_for_replacing.querySelector("h2").innerText=lastCopiedClintMovementH2Text;let e=lastCopiedClintMovementRowDiv.querySelectorAll("div")[0],t=lastCopiedClintMovementRowDiv.querySelectorAll("div")[1],n=lastCopiedClintMovementRowDiv.querySelectorAll("div")[2];e.style.backgroundColor="green",e.style.color="white",t.style.backgroundColor="green",t.style.color="white",n.style.backgroundColor="green",n.style.color="white";let l=lastClickedClintMovementRowDiv_for_replacing.querySelectorAll("div")[0],i=lastClickedClintMovementRowDiv_for_replacing.querySelectorAll("div")[1],o=lastClickedClintMovementRowDiv_for_replacing.querySelectorAll("div")[2];l.style.backgroundColor="green",l.style.color="white",i.style.backgroundColor="green",i.style.color="white",o.style.backgroundColor="green",o.style.color="white",setTimeout((()=>{e.style.backgroundColor="white",e.style.color="black",t.style.backgroundColor="white",t.style.color="black",n.style.backgroundColor="white",n.style.color="black",l.style.backgroundColor="white",l.style.color="black",i.style.backgroundColor="white",i.style.color="black",o.style.backgroundColor="white",o.style.color="black"}),1e3),lastCopiedClintMovementRowDiv=null,lastCopiedClintMovementH2Text=null,lastClickedClintMovementRowDiv_for_replacing=null,lastClickedClintMovementH2Text_for_replacing=null}else playSoundEffect("error");let t=document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div"),n=document.querySelector(".black_overlay");t.style.transform="translate(-50%, -130vh)",n.style.opacity="0",setTimeout((()=>{document.body.contains(n)&&document.body.removeChild(n)}),300),setTimeout((()=>{highlightWeekendClintMovements()}),1e3)};let lastSplitClintMovementRowDiv=null,lastSplitClintMovementH2Text=null,lastClickedClintMovementRowDiv_for_placing=null;function decrementDate(e){let t=e.split(" "),n=parseInt(t[0],10),l=t[1],i=new Date;return i.setDate(n-1),`${i.getDate()} ${l}`}function incrementDate(e){let t=e.split(" "),n=parseInt(t[0],10),l=t[1],i=new Date;return i.setDate(n+1),`${i.getDate()} ${l}`}function filterUsedClintVisitingPlacesNames(){let e=document.querySelectorAll(".clint_movements_row_class_for_editing"),t=[];function n(e){return e.replace(/\s+/g," ").trim()}e.forEach((e=>{let n=e.querySelector("h2").innerText.split("+").map((e=>e.trim()));t=t.concat(n)})),document.getElementById("all_clint_movements_places_page_divs_container").querySelectorAll("p").forEach((e=>{let l=n(e.innerText);t.some((e=>n(e)===l))?e.style.display="none":e.style.display="block"}))}function highlightWeekendClintMovements(){let e={"يناير":0,"فبراير":1,"مارس":2,"أبريل":3,"مايو":4,"يونيو":5,"يوليو":6,"أغسطس":7,"سبتمبر":8,"أكتوبر":9,"نوفمبر":10,"ديسمبر":11};document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((t=>{let n=t.querySelector("h1"),l=t.querySelector("h3");if(n&&l){let i=n.innerText.trim(),[o,_]=i.split(" "),d=parseInt(o,10),a=e[_];if(!isNaN(d)&&void 0!==a){let e=new Date;e.setDate(d),e.setMonth(a);let n=e.getDay();if((0===n||6===n)&&l.innerText.includes("بونشاك")){let e=t.querySelector("div:first-child");e&&(e.style.backgroundColor="rgb(190, 0, 0)",e.style.color="white")}}}}))}function isVisible(e){return e.offsetWidth>0&&e.offsetHeight>0}runSplitAndPlaceClintMovementsRowTableDivFunction=function(e){if(null!==lastSplitClintMovementRowDiv){let e=lastSplitClintMovementRowDiv.querySelectorAll("div")[0],t=lastSplitClintMovementRowDiv.querySelectorAll("div")[1],n=lastSplitClintMovementRowDiv.querySelectorAll("div")[2];e.style.backgroundColor="white",e.style.color="black",t.style.backgroundColor="white",t.style.color="black",n.style.backgroundColor="white",n.style.color="black"}lastSplitClintMovementRowDiv=e,lastSplitClintMovementH2Text=e.querySelector("h2").innerText;let t=document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div"),n=document.querySelector(".black_overlay");t.style.transform="translate(-50%, -130vh)",n.style.opacity="0",setTimeout((()=>{document.body.contains(n)&&document.body.removeChild(n)}),300);let l=lastSplitClintMovementRowDiv.querySelectorAll("div")[0],i=lastSplitClintMovementRowDiv.querySelectorAll("div")[1],o=lastSplitClintMovementRowDiv.querySelectorAll("div")[2];l.style.backgroundColor="rgb(0, 93, 119)",l.style.color="white",i.style.backgroundColor="rgb(0, 93, 119)",i.style.color="white",o.style.backgroundColor="rgb(0, 93, 119)",o.style.color="white",setTimeout((()=>{highlightWeekendClintMovements()}),500)},runAddFreeTransportationDayWithouDriverFunction=function(e){playSoundEffect("success"),e.querySelector("h2").innerText="يوم مفتوح بدون سائق";let t=e.querySelectorAll("div")[0],n=e.querySelectorAll("div")[1],l=e.querySelectorAll("div")[2];t.style.backgroundColor="green",t.style.color="white",n.style.backgroundColor="green",n.style.color="white",l.style.backgroundColor="green",l.style.color="white",setTimeout((()=>{t.style.backgroundColor="white",t.style.color="black",n.style.backgroundColor="white",n.style.color="black",l.style.backgroundColor="white",l.style.color="black"}),1e3);let i=document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div"),o=document.querySelector(".black_overlay");i.style.transform="translate(-50%, -130vh)",o.style.opacity="0",setTimeout((()=>{document.body.contains(o)&&document.body.removeChild(o)}),300),setTimeout((()=>{highlightWeekendClintMovements()}),1e3)},runPlaceClintMovementsRowTableDivFunction=function(e){if(lastClickedClintMovementRowDiv_for_placing=e,""===e.querySelector("h2").innerText){if(null!==lastSplitClintMovementRowDiv){playSoundEffect("success");let t=lastSplitClintMovementH2Text.split("+").map((e=>e.trim()));if(t.length>1){let n=Math.ceil(t.length/2),l=t.slice(0,n).join(" + "),i=t.slice(n).join(" + ");lastSplitClintMovementRowDiv.querySelector("h2").innerText=l,e.querySelector("h2").innerText=i}let n=lastSplitClintMovementRowDiv.querySelectorAll("div")[0],l=lastSplitClintMovementRowDiv.querySelectorAll("div")[1],i=lastSplitClintMovementRowDiv.querySelectorAll("div")[2];n.style.backgroundColor="green",n.style.color="white",l.style.backgroundColor="green",l.style.color="white",i.style.backgroundColor="green",i.style.color="white";let o=lastClickedClintMovementRowDiv_for_placing.querySelectorAll("div")[0],_=lastClickedClintMovementRowDiv_for_placing.querySelectorAll("div")[1],d=lastClickedClintMovementRowDiv_for_placing.querySelectorAll("div")[2];o.style.backgroundColor="green",o.style.color="white",_.style.backgroundColor="green",_.style.color="white",d.style.backgroundColor="green",d.style.color="white",setTimeout((()=>{n.style.backgroundColor="white",n.style.color="black",l.style.backgroundColor="white",l.style.color="black",i.style.backgroundColor="white",i.style.color="black",o.style.backgroundColor="white",o.style.color="black",_.style.backgroundColor="white",_.style.color="black",d.style.backgroundColor="white",d.style.color="black"}),1e3),lastSplitClintMovementRowDiv=null,lastSplitClintMovementH2Text=null,lastClickedClintMovementRowDiv_for_placing=null}}else playSoundEffect("error");let t=document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div"),n=document.querySelector(".black_overlay");t.style.transform="translate(-50%, -130vh)",n.style.opacity="0",setTimeout((()=>{document.body.contains(n)&&document.body.removeChild(n)}),300),setTimeout((()=>{highlightWeekendClintMovements()}),1e3)},addMoreClintMovementsRowTableDivFunction=function(e){let t=document.querySelectorAll(".clint_movements_row_class_for_editing");if(t.length>0){let n,l;if("up"===e){n=t[0],l=decrementDate(n.querySelector("h1").innerText)}else if("down"===e){n=t[t.length-1],l=incrementDate(n.querySelector("h1").innerText)}let i=document.createElement("div");i.className="clint_movements_row_class clint_movements_row_class_for_editing",i.innerHTML=`\n            <div><h1>${l}</h1></div>\n            <div><h2></h2></div>\n            <div class="clint_movements_row_controller" style="cursor: pointer;"><h3>${n.querySelector("h3").innerText}</h3></div>\n        `,"up"===e?n.parentNode.insertBefore(i,n):"down"===e&&n.parentNode.insertBefore(i,n.nextSibling);let o=document.querySelector(".black_overlay");document.getElementById("ensure_delete_or_edit_clint_movemnt_data_div").style.transform="translate(-50%, -130vh)",o.style.opacity="0",setTimeout((()=>{document.body.removeChild(o)}),300),document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{e.querySelectorAll(".clint_movements_row_controller").forEach((function(e){e.onclick=function(t){clintMovementsRowCityNameControllerFunction(t,e)}}))})),ensureAllPackageDatesHiddenOrNo(),t.forEach(((e,t)=>{let n=e.querySelector("h4");n&&(n.innerText=(t+1).toString())})),highlightWeekendClintMovements()}},openPdfDownloadBox=function(){if(""!==document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText&&"none"!==document.getElementById("downloaded_pdf_clint_data_page").style.display){let e=document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText;document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").innerText=`استخدم كود صاحب البكج ${e}`,document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").style.backgroundColor="rgb(85, 127, 137)"}else document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").innerText="تأكد من إدخال معلومات العميل",document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").style.backgroundColor="rgb(190, 0, 0)";let e=document.createElement("div");e.className="black_overlay",document.body.appendChild(e),setTimeout((()=>{e.style.opacity="1",document.getElementById("name_pdf_file_div").style.transform="translate(-50%, -50%)"}),100),e.onclick=()=>{document.getElementById("name_pdf_file_div").style.transform="translate(-50%, -130vh)",e.style.opacity="0",setTimeout((()=>{document.body.removeChild(e)}),300)}},downloadPdfWithCurrentUserCodeName=function(){if("rgb(190, 0, 0)"!==document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").style.backgroundColor){"newUniqueNumber"===websiteUserUniqueNumber&&submitForm(),submitFormAndSaveData(),document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").style.pointerEvents="none",document.getElementById("check_pdf_name_button").style.pointerEvents="none",playSoundEffect("success"),document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").innerText="جاري التحميل..","block"===document.getElementById("downloaded_pdf_clint_movements_data_page").style.display?document.getElementById("pdf_section_package_icluding_data_title_id_2").style.display="none":document.getElementById("pdf_section_package_icluding_data_title_id_2").style.display="inline",document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{e.querySelectorAll("div").forEach((e=>{"rgb(190, 0, 0)"!==e.style.backgroundColor&&(e.style.backgroundColor="white",e.style.color="black")}))}));let e=document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText;downloadPdfWithCustomName(`${e}`)}},checkThePdfNameToDownload=function(){if(""===document.getElementById("pdf_file_name_input_id").value||"rgb(190, 0, 0)"===document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").style.backgroundColor)playSoundEffect("error"),document.getElementById("check_pdf_name_button").style.backgroundColor="red",document.getElementById("check_pdf_name_button").style.color="white",setTimeout((()=>{document.getElementById("check_pdf_name_button").style.backgroundColor="white",document.getElementById("check_pdf_name_button").style.color="black"}),300);else{"newUniqueNumber"===websiteUserUniqueNumber&&submitForm(),submitFormAndSaveData(),document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").style.pointerEvents="none",document.getElementById("check_pdf_name_button").style.pointerEvents="none",playSoundEffect("success"),document.getElementById("check_pdf_name_button").style.backgroundColor="rgb(85, 127, 137)",document.getElementById("check_pdf_name_button").style.color="white",document.getElementById("check_pdf_name_button").innerText="جاري التحميل..","block"===document.getElementById("downloaded_pdf_clint_movements_data_page").style.display?document.getElementById("pdf_section_package_icluding_data_title_id_2").style.display="none":document.getElementById("pdf_section_package_icluding_data_title_id_2").style.display="inline",document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{e.querySelectorAll("div").forEach((e=>{"rgb(190, 0, 0)"!==e.style.backgroundColor&&(e.style.backgroundColor="white",e.style.color="black")}))}));let e=document.getElementById("pdf_file_name_input_id").value;downloadPdfWithCustomName(`${e}`)}},downloadPdfWithCustomName=async function(e){let{jsPDF:t}=window.jspdf,n=async function(e,t){let n=e.map((e=>async function(e,t){try{return await new Promise((e=>setTimeout(e,500))),await html2canvas(e,{scale:t,backgroundColor:"white",scrollY:0,useCORS:!0,logging:!1})}catch(e){}}(e,t)));return function(e){if(0===e.length)return null;let t=e.reduce(((e,t)=>e+t.height),0),n=document.createElement("canvas");n.width=e[0].width,n.height=t;let l=n.getContext("2d");l.fillStyle="#ffffff",l.fillRect(0,0,n.width,n.height);let i=0;return e.forEach((e=>{l.drawImage(e,0,i),i+=e.height})),n}((await Promise.all(n)).filter((e=>null!==e)))},l=document.querySelectorAll(".inserted_package_data_section_page_image_class");l.forEach((e=>{e.style.display="inline"})),document.getElementById("downloaded_pdf_important_notes_data_page").style.display="block",document.getElementById("inserted_company_name_image_position_div").style.display="none";let i=["downloaded_pdf_important_notes_data_page"],o=document.getElementById("show_package_total_price_checkbox");o&&o.checked?(i.push("downloaded_pdf_total_price_data_page"),document.getElementById("inserted_package_important_notes_data_section_page_image_id").style.display="none",document.getElementById("inserted_package_total_price_data_section_page_image_id").style.display="inline"):(document.getElementById("inserted_package_important_notes_data_section_page_image_id").style.display="inline",document.getElementById("inserted_package_total_price_data_section_page_image_id").style.display="none");let _=[],d=[],a=[];if(["downloaded_pdf_clint_data_page","downloaded_pdf_flight_data_page","downloaded_pdf_hotel_data_page","downloaded_pdf_package_including_data_page"].forEach((e=>{let t=document.getElementById(e);t&&isVisible(t)&&_.push(t)})),["downloaded_pdf_clint_movements_data_page"].forEach((e=>{let t=document.getElementById(e);t&&isVisible(t)&&d.push(t)})),i.forEach((e=>{let t=document.getElementById(e);t&&isVisible(t)&&a.push(t)})),0===_.length&&0===d.length&&0===a.length)return;let r=(/Mobi|Android|iPhone/i.test(navigator.userAgent),3.3),c=await n(_,r),s=await n(d,r);s&&(s=function(e){let t=e.width/210*297;if(e.height<t){let n=document.createElement("canvas");n.width=e.width,n.height=t;let l=n.getContext("2d");return l.fillStyle="#ffffff",l.fillRect(0,0,n.width,n.height),l.drawImage(e,0,0),n}return e}(s));let u=await n(a,r);if(!c&&!s&&!u)return;let m=new t("p","mm","a4"),g=210;if(c){let e=c.height*g/c.width;m=new t("p","mm",[g,e]);let n=c.toDataURL("image/jpeg",.9);m.addImage(n,"JPEG",0,0,g,e,"","FAST")}if(s){let e=s.height*g/s.width;m.addPage([g,e]);let t=s.toDataURL("image/jpeg",.9);m.addImage(t,"JPEG",0,0,g,e,"","FAST")}if(u){let e=u.height*g/u.width;m.addPage([g,e]);let t=u.toDataURL("image/jpeg",.9);m.addImage(t,"JPEG",0,0,g,e,"","FAST")}m.save(e),l.forEach((e=>{e.style.display="none"})),document.getElementById("pdf_section_package_icluding_data_title_id_2").style.display="none",document.getElementById("downloaded_pdf_important_notes_data_page").style.display="none",document.getElementById("inserted_company_name_image_position_div").style.display="flex",playSoundEffect("success"),document.getElementById("check_pdf_name_button").style.backgroundColor="white",document.getElementById("check_pdf_name_button").style.color="black",document.getElementById("check_pdf_name_button").innerText="تحميل";let y=document.getElementById("package_user_code_name_for_later_import_reference_p_id").innerText;document.getElementById("use_website_user_code_name_as_downloaded_pdf_file_name_p_id").innerText=`استخدم كود صاحب البكج ${y}`,highlightWeekendClintMovements()},downloadOnlyClintMovementsDataFunction=function(){"none"!==document.getElementById("downloaded_pdf_clint_movements_data_page").style.display?(playSoundEffect("success"),submitFormAndSaveData(),submitForm(),document.getElementById("download_clint_movements_data_p_id").style.backgroundColor="rgb(0, 46, 57)",document.getElementById("download_clint_movements_data_p_id").innerText="جاري التحميل..",runDownloadOnlyClintMovementsDataFunction()):(playSoundEffect("error"),document.getElementById("download_clint_movements_data_p_id").style.backgroundColor="red",setTimeout((()=>{document.getElementById("download_clint_movements_data_p_id").style.backgroundColor="rgb(0, 87, 116)"}),500))},runDownloadOnlyClintMovementsDataFunction=async function(){document.querySelectorAll(".clint_movements_row_class_for_editing").forEach((e=>{e.querySelectorAll("div").forEach((e=>{e.style.backgroundColor="white",e.style.color="black"}))}));let{jsPDF:e}=window.jspdf,t="";if(""!==document.getElementById("clint_company_name_input_id").value){let e=document.getElementById("clint_company_name_input_id").value.replace(/\s+/g,"-");document.getElementById("downloaded_pdf_clint_movements_data_page").querySelector("img").src=`خلفية-الشركات/${e}.jpg`,t=`جدول تحركات ${document.getElementById("clint_company_name_input_id").value} ${document.getElementById("store_google_sheet_package_raw_user_with_no_riv_for_later_reference_when_importing").innerText}`}else document.getElementById("downloaded_pdf_clint_movements_data_page").querySelector("img").src="first-pdf-image.jpg",t=`جدول تحركات بكج ${document.getElementById("store_google_sheet_package_raw_user_with_no_riv_for_later_reference_when_importing").innerText}`;document.getElementById("downloaded_pdf_clint_movements_data_page").querySelector("img").style.display="inline",document.getElementById("downloaded_pdf_clint_movements_data_page").querySelectorAll("img")[1].src="last-pdf-image.jpg",document.getElementById("downloaded_pdf_clint_movements_data_page").querySelectorAll("img")[1].style.display="inline";let n=document.getElementById("downloaded_pdf_clint_movements_data_page");if(!n||!isVisible(n))return;let l=(/Mobi|Android|iPhone/i.test(navigator.userAgent),3.3),i=await async function(e,t){try{return await new Promise((e=>setTimeout(e,500))),await html2canvas(e,{scale:t,backgroundColor:"white",scrollY:0,useCORS:!0,logging:!1})}catch(e){}}(n,l);if(!i)return;i=function(e){let t=297*(e.width/210);if(e.height<t){let n=document.createElement("canvas");n.width=e.width,n.height=t;let l=n.getContext("2d");return l.fillStyle="#ffffff",l.fillRect(0,0,n.width,n.height),l.drawImage(e,0,0),n}return e}(i);let o=new e("p","mm","a4"),_=210*i.height/i.width;o=new e("p","mm",[210,_]);let d=i.toDataURL("image/jpeg",.9);o.addImage(d,"JPEG",0,0,210,_,"","FAST"),o.save(t),playSoundEffect("success"),highlightWeekendClintMovements(),document.getElementById("download_clint_movements_data_p_id").style.backgroundColor="rgb(0, 87, 116)",document.getElementById("download_clint_movements_data_p_id").innerText="تحميل التحركات",document.getElementById("downloaded_pdf_clint_movements_data_page").querySelector("img").style.display="none",document.getElementById("downloaded_pdf_clint_movements_data_page").querySelectorAll("img")[1].style.display="none",document.getElementById("downloaded_pdf_clint_movements_data_page").querySelector("img").src="middle-pdf-image.jpg",document.getElementById("downloaded_pdf_clint_movements_data_page").querySelectorAll("img")[1].src="middle-pdf-image.jpg"};
